<!DOCTYPE html>
<html>
  <head>
    <title>Despre Lightning Network â€“ Hackmajoris â€“ Programmer</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Articol tradus. Sursa originalÄƒ

" />
    <meta property="og:description" content="Articol tradus. Sursa originalÄƒ

" />
    
    <meta name="author" content="Hackmajoris" />

    
    <meta property="og:title" content="Despre Lightning Network" />
    <meta property="twitter:title" content="Despre Lightning Network" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="alternate" type="application/rss+xml" title="Hackmajoris - Programmer" href="/feed.xml" />
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

  </head>

  <body>
    
    
    <div class="intro-header">    
      <div class="container">
        <div class="post-heading">
            <h1>Despre Lightning Network</h1>
            <span class="meta">Posted by <a href="/about"> Alexandru Ilies
            </a> on January 29, 2018
            <a href="/"> { Return to Blog }</a>
            </span>
        </div>
            
      </div>
    </div>
    

    <div id="main" role="main" class="container">
      <article class="post">
 <div class="space-extra-small">
 </div>

  <div class="entry">
    <p>Articol tradus. Sursa <a href="https://medium.com/@x0100/%EF%B8%8Flightning-network-7c618c9cd68">originalÄƒ</a></p>

<p>Lighting Network = LN</p>

<p>Ãn partea 0 vom vedea, de ce este nevoie de aÈ™a ceva. 
Ãn partea 1 vom explica cum se desfÄƒÈ™oarÄƒ toate plÄƒÈ›ile Ã®n reÈ›eaua Bitcoin, Lightning Network È™i problemele care se regÄƒsesc. Ãn partea 2 vom introduce componentele de bazÄƒ din care e construit LN. Ãn partea 3, Ã®n sfÃ¢rÈ™it vom descrie Ã®n detaliu cum sunt procesate plÄƒÈ›ile Ã®n protocolul LN. Ãn a 4 parte, Ã®n mod rapid vom vorbi despre criticile care se regÄƒsesc È™i comisionale existente. Ãn partea 5, vom face un mic sumar.</p>

<p>! Ãn mod conÈ™tient renunÈ›/simplific unele momente tehnice. ÃncÄƒ nu sunt expert È™i pot sÄƒ mÄƒ Ã®nÈ™el Ã®n unele afirmÄƒri.</p>

<h2 id="0-de-ce">0. De ce?</h2>
<p><strong>Bitcoin Blockchain</strong> - are la bazÄƒ o bazÄƒ date descentralizatÄƒ, Ã®n care se salveazÄƒ toate tranzacÈ›iile din reÈ›eaua Bitcoin. PÃ¢na aici, â€toate tranzacÈ›iileâ€ este o parte destul de fundamentalÄƒ la acest protocol. Ca Ã®ntreg sistem sÄƒ fie Ã®ntradevÄƒr descentralizat, È™i totodatÄƒ funcÈ›ioneze fÄƒrÄƒ vreo oarecare eroare, trebuie, ca toate miile de noduri din reÈ›ea sÄƒ re-verifice È™i sÄƒ salveze toate tranzacÈ›iile. Acest lucru, Ã®n mod clar, nu duce la o scalare: Blockchain ocupÄƒ zeci de Gigabytes pe disk, minerii folosesc mai mult curent decÃ¢t are nevoie unele È›Äƒri, blocurile sunt suprasolicitate, comisioanele cresc, oamenii Ã®njurÄƒ È™i fac fork la Bitcoin. Din aceaste cauze, la moment, Ã®n mod activ se construiesc soluÈ›ii alternative. Una dintre aceste soluÈ›ii este Lightning Network.</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Q: When will the Lightning Network be rolled out?<br />A: The rollout has already begun. This is an iterative distributed learning process; it&#39;s unlikely there will be a single point in time at which we say LN is &quot;deployed&quot; because it will grow organically. Software is never finished.</p>&mdash; Jameson Lopp (@lopp) <a href="https://twitter.com/lopp/status/947808940255006726?ref_src=twsrc%5Etfw">January 1, 2018</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<h3 id="1-ideea">1. Ideea</h3>
<p>Idea de soluÈ›ionare a problemei de la nivelului doi (second layer solution), la care se referÄƒ LN, sunÄƒ foarte simplu:</p>
<blockquote>
Ãn loc sÄƒ se salveze È™i sÄƒ se verifice toate tranzacÈ›iile Ã®n Blokchain, vom realiza o mare parte din plÄƒÈ›i Ã®n afara reÈ›elei Blockchain, iar Ã®n Blockchain vom sincroniza din timp Ã®n timp balanÈ›ele È™i vom rezolva conflictele. De funÈ›ionat toate acestea vor funcÈ›iona, ca deobicei cu ajutorul criptomagiei.
</blockquote>

<p>SunÄƒ bine, Ã®nsÄƒ nu È™tim cum toate acestea funcÈ›ioneazÄƒ.</p>
<h3 id="11-canalul-de-platÄƒ">1.1. Canalul de platÄƒ</h3>
<p>SÄƒ Ã®ncepem prin a simplifica viaÈ›a a douÄƒ persoane, Alisa È™i Bob, care foarte des se plÄƒtesc Ã®ntre ei. Se oferÄƒ urmÄƒtoarea schema:</p>

<ol>
  <li>Alisa È™i Bob trimit depozituri la adresa o adresÄƒ comunÄƒ care se administreazÄƒ cu ajutorul a douÄƒ chei private.</li>
  <li>Fiecare din ei, creazÄƒ o tranzacÈ›ie specialÄƒ - Smart Contract(da, Bitcoin dispune de Smart-Contracts, despre asta Ã®n partea urmÄƒtoare). AceastÄƒ tranzacÈ›ie este corectÄƒ, dar Ã®ncÄƒ nu este scrisÄƒ Ã®n Blochain.</li>
  <li>De la Ã®nceput, tranzacÈ›ia conÈ›ine informaÈ›ie conform cÄƒreia, Alisa È™i Bob pot lua Ã®napoi depozitele lor.</li>
  <li>Cand Alisa se achitÄƒ cu Bob, printr-o Ã®nÈ›elegere comunÄƒ -updateazÄƒ informaÈ›ia din aceste tranzacÈ›ii. Alisa acceptÄƒ sÄƒ primeascÄƒ mai puÈ›inÄƒ valoare din propriul depozit, iar Bob - mai multÄƒ. Defapt, aceste tranzacÈ›ii reprezintÄƒ niste obligaÈ›iuni(IOU, I owe you)</li>
  <li>Ãn aÈ™a mod, ei pot schimba Ã®ntre ei sume nu foarte mari(Ã®n limitele depozitelor lor), mÄƒcar pÃ¢nÄƒ la nesfÃ¢rÈ™it.</li>
  <li>La un anumit moment, oricare din pÄƒrÈ›i, poate sÄƒ cearÄƒ sÄƒ se achite pentru totdeauna. Atunci Lisa(sau Bob) pur È™i simplu Ã®nscriu tranzacÈ›ia finalÄƒ Ã®n Blockchain-ul principal È™i primesc suma depozitului Ã®mpreunÄƒ cu suma provenitÄƒ din plÄƒÈ›ile care au fost fÄƒcute cÄƒtre acest depozit.</li>
</ol>

<p>Punctele 1-3 din aceastÄƒ schemÄƒ se numesc deschiderea canalului de plÄƒtÄƒ/plÄƒÈ›i(payment channel). Punctele 4 È™i 5 - folosirea canalului. Punctul 6 - Ã®nchiderea canalului de platÄƒ/plÄƒÈ›i.</p>

<blockquote>
ğŸ‘ Ãn blockchain se Ã®nscriu doar douÄƒ tranzacÈ›ii: tranzacÈ›ia de depozitare, Ã®n care are loc deschiderea canalului de platÄƒ È™i tranzacÈ›ia finalÄƒ(Ã®nchiderea canalului). Toate tranzacÈ›iile interemediare dintre aceste douÄƒ tranzacÈ›ii nu se folosesc de Blockchain È™i nu sunt salvate Ã®n acesta, de aceea acestea sunt fÄƒcute fÄƒrÄƒ nici un cost(comision) È™i sunt momentane.
</blockquote>

<h3 id="12-reÈ›eaua-de-canale-de-platÄƒ">1.2. ReÈ›eaua de canale de platÄƒ</h3>

<p>Canalele de plÄƒÈ›i Ã®ntre douÄƒ persoane - nu este ceva foarte util. La urma urmei, cu marea majoritate a oamenilor noi nu facem tranzacÈ›ii regulare. Darâ€¦</p>
<blockquote>
ğŸ’¡ Cand canalele de platÄƒ formeazÄƒ o reÈ›ea, se iveÈ™te posibilitatea de a face plÄƒÈ›i Ã®ntre fiecare utilizator al reÈ›elei, cÄƒtre care existÄƒ o legÄƒturÄƒ Ã®n graful acestei reÈ›ele(chiar dacÄƒ ei nu au legÄƒturÄƒ directÄƒ unul cu altul). Aceasta È™i este ideea de bazÄƒ a Lighting Network.
</blockquote>

<p>AÈ™a aratÄƒ graful canalelor de platÄƒ, Ã®n momentul 22.01.2018: (https://lnmainnet.gaben.win).
<img src="https://cdn-images-1.medium.com/max/1600/1*vYgP4rEOttWssox5l-LGig.png" alt="" /></p>

<p>Ãn principiu, analog protocolului TCP, unui om simplu Ã®i este Ã®ndeajuns sÄƒ aibÄƒ doar un singur canal deschis, ca acesta sÄƒ poatÄƒ sÄƒ utilizeze tranzacÈ›ii cu oricine. Desigur, este nevoie sÄƒ se caute È™i segmentul cel mai optim Ã®ntre doi utilizatori, È™i mai trebuie cumva sÄƒ se motiveze participanÈ›ii reÈ›elei ca aceÈ™tia sÄƒ verifice tranzacÈ›iile strÄƒine. Dar, sa Ã®ncepem cu problema de bazÄƒ: problema Ã®ncrederii.</p>

<h3 id="13-problema-Ã®ncrederii">1.3. Problema Ã®ncrederii</h3>
<p>Cum se Ã®ntÃ¢mplÄƒ des Ã®n criptografie, sistema canalelor de platÄƒ este foarte simplu de imaginat, dacÄƒ toate parÈ›ile au Ã®ncredere Ã®ntre ele. Nu este nevoie sÄƒ Ã®ngrÄƒdim grÄƒdina cu depozite, chei private, tranzacÈ›ii speciale. Se poate simplu de scris doar cui È™i cu cÃ¢t este cineva dator.
UrmÄƒtorul lucru de Ã®nÈ›eles: cum putem realiza un canal de plÄƒÈ›i fÄƒrÄƒ a avea Ã®ncredere Ã®ntre parÈ›i?
Problemele de bazÄƒ for fi trei.</p>

<ol>
  <li>Ambele depozite, ale Alisei È™i Bob se aflÄƒ Ã®ntrun portofel virtual comun. DacÄƒ Bob nu va fi deacord sÄƒ semneze tranzacÈ›ia, cum Alisa Ã®È™i va Ã®ntoarce depozitul ei?</li>
  <li>Ãn procesul de calculare, sunt create multiple versiuni ale oblicaÈ›iunilor. SÄƒ presupunem cÄƒ, practic, Alisa Ã®l plÄƒteÈ™te pe Bob. Atunci, Ã®n versiunea finalÄƒ a tranzacÈ›iei, Bob va primi un depozit mai mare decÃ¢t depozitul lui iniÈ›ial iar Alisa - mai puÈ›in. Dar Alisa poate Ã®nÈ™ela È™i poate Ã®nscrie singurÄƒ Ã®n Blockchain prima versiune validÄƒ a tranzacÈ›iei, ca È™i cum Bob niciodatÄƒ nu a primit bani. Cu ce va rÄƒmÃ¢ne Bob?</li>
  <li>DacÄƒ Alisa È™i Bob, transferÄƒ banii prin reÈ›ea folosind o a treia persoanÄƒ - Victor, atunci cum ei pot fi siguri cÄƒ Victor Ã®ntradevÄƒr va transmite banii È™i nu Ã®i va lua lui?</li>
</ol>

<p>SÄƒ numim aceste probleme corespunzÄƒtor:</p>

<ul>
  <li>problema depozitului comun</li>
  <li>problema ultimei tranzacÈ›ii</li>
  <li>problema persoanei terÈ›e</li>
</ul>

<h2 id="2-smart-contractszaqwa-p0o9azza">2. Smart-contractsz<code class="highlighter-rouge">~~aqwa</code>=-[p0o9az`~ZA;./â€|</h2>
<blockquote>
  <p>â‰¤
Bitcoin are suport pentru un limbaj simplu al smart-contractelor - Script. Ãn fiecare tranzacÈ›ie Bitcoin existÄƒ un cÃ¢mp special, care conÈ›ine un script scris Ã®n acest limbaj. Acest script verificÄƒ, dupÄƒ aplicarea a cÄƒror reguli, ieÈ™irea tranzacÈ›iei poate fi folositÄƒ.
â€Folosirea ieÈ™irei tranzacÈ›iei Aâ€ - este un mod mult mai corect tehnic spus â€folosirea banilor din adresa/portofelul K, unde aceÈ™tia au fost depuÈ™i cu ajutorul tranzacÈ›iei Aâ€</p>
</blockquote>

<blockquote>
â˜ Ãn comparaÈ›ie, de exemplu, cu Ethereum, posibilitÄƒÈ›ile smart-contractelor Bitcoin sunt cu mult mai limitate. Este legat acest lucru de Script, È™i anume cÄƒ acesta nu este destul pentru Turing. De exemplu, Ã®n acesta nu se poate folosi cicluri/recursivitate È™i nu se poate crea variabile(lipsa memoriei).
</blockquote>

<p>SÄƒ vedem cele mai importante operaÈ›ii ale acestui limbaj.</p>

<h3 id="21-autorizaÈ›ia">2.1 AutorizaÈ›ia</h3>
<p>Probail, partea cea mai standard a oricÄƒrei tranzacÈ›ii - este verificarea semnÄƒturii. SÄƒ presupunem cÄƒ tranzacÈ›ia A, transferÄƒ resurse la o oarecare adresÄƒ K. Ca sÄƒ fie cheltuite resursele din K, trebuie sÄƒ se demonstreze deÈ›inerea cheii(cheia privatÄƒ). De acest lucru rÄƒspunde operaÈ›ia <strong>OP_CheckSig</strong>. Dar, dupÄƒ dorinÈ›Äƒ, se poate verifica È™i ceva adaugÄƒtor. De exemplu, se poate verifica, cÄƒ persoana deÈ›ine un numÄƒr secret, iar hash-ul este egal cu acel numÄƒr. Pentru aceasta, este nevoie de douÄƒ operaÈ›iuni: <strong>OP_SHA256</strong>(citeÈ™te hash-ul) È™i <strong>OP_EqualVerify</strong>(verificÄƒ egalitatea). De ce avem nevoie de toate acestea, va fi clar Ã®n partea 4.</p>

<h3 id="22-cooperarea">2.2. Cooperarea</h3>
<p>Un alt exemplu simplu de smart-contract la Bitcoin se bazeazÄƒ pe operaÈ›ia <strong>OP_CheckMultiSig</strong>. Aceasta permite sÄƒ se foloseascÄƒ resursele doar prin semnarea cÃ¢torva chei predefinite. Pe acest principiu funÈ›ioneazÄƒ aÈ™a spusele â€multiple signature walletsâ€. La fel ca È™i celula unei bÄƒnci, care este Ã®ncuiatÄƒ cu douÄƒ chei, una aflÃ¢ndu-se la angajatorul bÄƒncii iar alta la client.</p>
<h3 id="23-perioadele">2.3. Perioadele</h3>
<p>Bitcoin are suport È™i pentru operaÈ›ia <strong>OP_CheckSequesnceVerify</strong>, care permite folosirea resurselor doar peste un numÄƒr fix de blocuri. De exemplu, aceasta permite educarea oamenilor, care nu pot salva resursele. Blockchain este mai eficient decÃ¢t oricare cont de economii: dacÄƒ utilizatorul a decis sÄƒ Ã®ngheÈ›e suma acumulatÄƒ pe o anumitÄƒ perioadÄƒ, aceastÄƒ sumÄƒ va fi Ã®ngheÈ›atÄƒ garantat. Dar, pe lÃ¢ngÄƒ acest scenariu, <strong>OP_CheckSequenceVerify</strong>, È™i alte componente, Ã®n mod activ se folosesc pentru realizarea canalelor de plÄƒÈ›i.</p>

<h2 id="3-realizarea-canalului">3. Realizarea canalului</h2>
<p>Acum, cÃ¢nd toate blocurile de control sunt la locul lor, se poate descrie unele detalii ale funcÈ›ionÄƒrii canalului de platÄƒ.  Defapt, unele imaginÄƒri ale canalului de plÄƒÈ›i, au fost descrise Ã®ncÄƒ de Satoshi. Eu ma voi axa mai mult pe specificaÈ›ia, care se numeÈ™te Poon-Dryja payment channels(dupÄƒ pÄƒrerea autorilor principali Lightning Network).</p>

<h3 id="31-deschiderea-canalului">3.1. Deschiderea canalului</h3>
<ol>
  <li>Alisa È™i Bob creazÄƒ tranzacÈ›ii, care depun resursele Ã®ntr-o adresÄƒ de depozit comun. SÄƒ presupunem cÄƒ X bitcoins se transferÄƒ din portofelul Alisei, È™i Y - din portofelul lui Bob. Resursele din depozitul comun pot fi folosite doar prin semnarea Ã®mpreunÄƒ a cheilor private ale Alisei È™i Bob. (OP_CheckMultiSig).</li>
  <li>Primul truc, se evidenÈ›iazÄƒ prin aceea cÄƒ ei Ã®ncÄƒ NU semneazÄƒ È™i NU transmit tranzacÈ›ia Ã®n Blockchain(dealtfel, Bob o poate minÈ›i pe Lisa È™i poate sÄƒ-i Ã®ngheÈ›e rezursele pe veÈ™nicie).)</li>
  <li>Ãn loc de acestea, Alisa È™i Bob creazÄƒ douÄƒ noi tranzacÈ›ii de retur a depozitului initial. Intrarea acestor tranzacÈ›ii sunt resursele din depozitul comun(ieÈ™irea tranzacÈ›iei 0). IeÈ™iri ale tranzacÈ›iilor sunt douÄƒ: X se duce Ã®napoi la adresa Alisei, Y - la adresa lui Bob. Ãn realitate, toate acestea sunt un pic mai dificile, dar despre asta, un pic mai tÃ¢rziu.</li>
  <li>Mai departe, Bob, semneazÄƒ tranzacÈ›ia A1 È™i o transmite cÄƒtre Alisa. Alisa semneazÄƒ tranzacÈ›ia B1 È™i o trimite lui Bob.</li>
  <li>Ãn acest moment, tranzacÈ›ia de depunere a depozitului, se poate Ã®nscrie Ã®n Blockchain, nimeni nu minte. DacÄƒ Bob va fi deacord sÄƒ coopereze, Alisa oricÃ¢nd poate semna tranzacÈ›ia A1, sÄƒ o Ã®nscrie Ã®n Blockchain È™i sÄƒ obÈ›inÄƒ depozitul acesteia Ã®napoi.</li>
</ol>

<p>Ãn acest moment â€problema depozitului comunâ€ este rezolvatÄƒ. Deschiderea canalului de platÄƒ poate ave loc fÄƒrÄƒ a avea Ã®ncredere Ã®n cealaltÄƒ persoanÄƒ.</p>
<blockquote>
â˜ Un fapt interesant. ÃncÄƒ cu jumÄƒtate de an Ã®n urmÄƒ(Ã®nainte de a se introduce SegWit) semnarea tranzacÈ›iilor neconfirmate(punctul 4) avea loc mult mai greu, din cauza problemei maleabilitatÄƒÈ›ii(transaction malleability)
</blockquote>

<h3 id="32-folosirea-canalului">3.2 Folosirea canalului</h3>
<p>PlÄƒÈ›ile din interiourul canalului se realizeazÄƒ defapt prin re-rescrierea tranzacÈ›iei A1 È™i B1 Ã®n noi tranzacÈ›ii.</p>

<ol>
  <li>Alisa Ã®l plÄƒteÈ™te pe Bob pentru o cafea, care costÄƒ C.</li>
  <li>Tot Alisa, este deacord cÄƒ, la Ã®nchiderea canalului de platÄƒ ea va lua Ã®napoi, nu suma depusa la Ã®nceput X, ci Xâ€™ = (X - C).</li>
  <li>Iar Bob: Yâ€™ = (Y + C).</li>
</ol>

<p>Deasemenea, noile tranzacÈ›ii A2 È™i B2 vor arÄƒta la fel ca A1 È™i B1, doar cÄƒ cu sume noi. Fiecare din pÄƒrÈ›i, poate Ã®n orice moment sÄƒ Ã®nchidÄƒ canalul de platÄƒ, scriind ultima versiune a tranzacÈ›iei Ã®n Blockchain.</p>

<p>Cum ne asigurÄƒm cÄƒ Alisa nu va scrie Ã®n Blockchain tranzacÈ›ia A1  Ã®n loc de tranzacÈ›ia A2? Pentru aceasta, exista Ã®ncÄƒ un truc.</p>

<ol>
  <li>De fiecare datÄƒ cÃ¢nd Alisa È™i Bob creazÄƒ noi tranzacÈ›ii, ei aleg o cheie privatÄƒ de unicÄƒ folosinÈ›Äƒ, de care au nevoie ca sÄƒ poatÄƒ lua depozitul Ã®napoi(OP_CheckSig).</li>
  <li>La fiecare platÄƒ i, Alisa Ã®i va arÄƒta lui Bob cheia privatÄƒ precedentÄƒ AK(i-1), È™i va crea o nouÄƒ cheie AKi pentru noua tranzacÈ›ie. Bob nu va accepta plata fÄƒra cheia anterioarÄƒ.</li>
  <li>DacÄƒ Bob È™tie cheia, atunci acesta poate cheltui toÈ›i banii Alisei, doar dacÄƒ Alisa va decide sÄƒ Ã®nscrie tranzacÈ›ia greÈ™itÄƒ Ã®n Blockchain.</li>
  <li>Ãn aÈ™a fel, Alisa Ã®ntodeauna este interesatÄƒ de a Ã®nscrie Ã®n Blockchain tranzacÈ›ia corectÄƒ, adicÄƒ utlima.</li>
</ol>

<p><em>Modificare minorÄƒ</em>
Pentru ca Bob sÄƒ aibÄƒ posibilitatea sÄƒ dispute tranzacÈ›ia cu Alisa È™i sÄƒ obÈ›inÄƒ cheia acesteia, Bob are nevoie de timp. De aceea, Alisa, va obÈ›ine depozitul ei nu Ã®n acelaÈ™i timp, dar dupÄƒ cÃ¢teva blocuri T(OP_CheckSequenceVerify). De exemplu, peste 48 blocuri, adicÄƒ peste 8 ore.</p>

<p>DacÄƒ Alisa semneazÄƒ una din tranzacÈ›iile ei(ele sunt semnate deja de Bob), È™i transmite aceastÄƒ tranzacÈ›ie Ã®n Blockchain, atunci pot avea loc douÄƒ scenarii.</p>

<ol>
  <li>Alisa emite tranzacÈ›ia finalÄƒ =&gt; Bob nu cunoaÈ™te utlima cheie a Alisei Aki. Aceasta este o Ã®nchidere corectÄƒ a canalului, toÈ›i trebuie sÄƒ primeascÄƒ banii lor Ã®napoi. Alisa Ã®i va primi peste ceva timp.</li>
  <li>Alisa Ã®ncearcÄƒ sÄƒ semneze tranzacÈ›ia veche Ã®n loc de cea nouÄƒ, finalÄƒ =&gt; Alisa Ã®ncearcÄƒ sÄƒ-l mintÄƒ pe Bob. Ãn acest caz, Bob cunoaÈ™te cheia lui Alisa È™i acesta poate sÄƒ o foloseascÄƒ pentru a primi toatÄƒ suma Alisei. Este clar cÄƒ, Alisa nu este interesatÄƒ Ã®n acest scenariu.</li>
</ol>

<p>AÈ™adar, â€problema ultimei tranzacÈ›iiâ€ este la fel - rezolvatÄƒ È™i canalul de comunicare Ã®ntre douÄƒ persoane este Ã®n regulÄƒ. Acum, deasemenea, devin evidente cÃ¢teva avantaje È™i neajunsuri.</p>

<p>ğŸ‘ <strong>Avanteje:</strong></p>

<ol>
  <li>PlÄƒÈ›ile din interiorul canalului sunt instante È™i gratis, ele nu duc la solicitarea Blockchain-ului principal.</li>
  <li>PÄƒrÈ›ile nu sunt obligate sÄƒ aibÄƒ Ã®ncredere una Ã®n alta.</li>
</ol>

<p>ğŸ‘ <strong>Neajunsuri</strong></p>

<ol>
  <li>Depozitele sunt blocate pe toatÄƒ perioada existenÈ›ii canalului.</li>
  <li>Fiecare dintre pÄƒrÈ›i, trebuie periodic sÄƒ se iveascÄƒ online(cel puÈ›in o datÄƒ-n T)</li>
</ol>

<p>ğŸ‘Œ Ãn realitate, ambele neajunsuri sunt necesare pentru canalele de plÄƒÈ›i Ã®ntre douÄƒ persoane, dar nu prea sunt importante pentru LN. Primul neajuns Ã®nceteazÄƒ sÄƒ mai fie neajuns dacÄƒ un canal de plÄƒÈ›i poate fi folosit pentru tranzacÈ›ii cu alte persoane.
Al doilea neajuns lipseÈ™te Ã®n LN, aÈ™a cum verificarea corectitudinei poate fi fÄƒcutÄƒ de oricare utilizator al reÈ›elei( dacÄƒ Vasile va observa È›eapa Alisei, atunci acesta va Ã®mpÄƒrÈ›i cu Bob valoarea confiscatÄƒ.</p>

<h2 id="4-lightning-network">4. Lightning Network</h2>

<h3 id="41-canalul-de-plÄƒÈ›i-printr-o-persoanÄƒ-terÈ›Äƒ">4.1. Canalul de plÄƒÈ›i printr-o persoanÄƒ terÈ›Äƒ</h3>

<p>SÄƒ presupunem acum cÄƒ Alisa È™i Bob nu au un canal deschis Ã®ntre ei, dar ei, ambii au un canal deschis cu Victor. Alisa poate fÄƒrÄƒ probleme sÄƒ trimitÄƒ bani lui Victor, iar Victor fÄƒrÄƒ probleme poate trimite banii lui Bob.
Dar, cum sÄƒ fim siguri, cÄƒ Victor, obÈ›inÃ¢nd banii, Ã®ntradevÄƒr Ã®i va trimite mai departe lui Bob?</p>

<p>Ãn realitate, ideea este foarte similarÄƒ cu trucul anterior, doar cÄƒ Ã®n loc de cheile de unicÄƒ folosinÈ›Äƒ se foloseÈ™te un oarecare numÄƒr secret.</p>

<ol>
  <li>Bob genereazÄƒ un numÄƒr secret S, hash-ul al acestei chei HS È™i transmite aceastÄƒ informaÈ›ie Alisei. HS Ã®n acest caz poate fi folosit ca un bon de platÄƒ virtual.</li>
  <li>Alisa creazÄƒ tranzacÈ›ia AV, care transmite banii lui Victor, numai Ã®n cazul Ã®n care Victor va oferi numÄƒrul secret S. Pentru aceasta, Alisa foloseÈ™te un script, care verificÄƒ egalitatea hash-ului oferit de numÄƒrul È™i valoarea HS(aici se foloseÈ™te operaÈ›ia OP_SHA256 È™i OP_EqualVerify).</li>
  <li>Victor creazÄƒ o tranzacÈ›ie analog VB, care transmite banii lui Bob, doar Ã®n cazul Ã®n care Bob va prezenta numÄƒrul secret.</li>
  <li>Bob vede cÄƒ poate primi bani de la Victor, È™i Ã®i aratÄƒ acestuia numÄƒrul secret S. Acum, Victor poate demonstra cÄƒ acesta a transmis banii lui Bob.</li>
</ol>

<p>Aici sunt cÃ¢teva variante Ã®n care scenariile pot avea loc:</p>

<ol>
  <li>Ãnainte de toate, Victor nu are nici un sens sÄƒ o mintÄƒ pe Alisa. El nu poate sÄƒ nu transmitÄƒ banii lui Bob, deoarece, dealtfel, Victor oricum nu va primi bani de la Alisa.</li>
  <li>ÃnsÄƒ Bob, poate sÄƒ decidÄƒ sÄƒ-l mintÄƒ pe Victor È™i sÄƒ nu-i dea acestuia numÄƒrul secret. Pe lÃ¢ngÄƒ asta, el poate Ã®nchide canalul cu Victor È™i sÄƒ Ã®nscrie Ã®n blockchain tranzacÈ›ia VB. ÃnsÄƒ, pentru primirea banilor, el oricum este nevoit sÄƒ arate  numÄƒrul lui secret, È™i aici - Victor Ã®l va recunoaÈ™te.</li>
</ol>

<p>Aici existÄƒ cÃ¢teva nuanÈ›e, legate de timpul Ã®n care Alisa, Bob È™i Victor pot rezolva conflictele. Dar, aceasta este o temÄƒ mult prea tehnicÄƒ. DacÄƒ sunteÈ›i interesaÈ›i - Google it (Time-Locked Contracts or HTLCs).</p>

<h2 id="42-rutarea">4.2. Rutarea</h2>

<p>Ãn practicÄƒ, Alisa È™i Bob pot fi legaÈ›i Ã®ntre ei nu prin cunoscutul lor comun - Victor, ci prin cÃ¢È›iva necunoscuÈ›i intermediari din Ã®ntreaga lume. Problema cÄƒutÄƒrii celui mai scurt drum Ã®n graf, Ã®n reÈ›ea, se numeÈ™te problema rutÄƒrii.</p>

<p><img src="https://cdn-images-1.medium.com/max/1600/1*933GpxVj8PzBVPMQGbDeng.png" alt="" />
(ÃmpÄƒrÈ›irea geograficÄƒ a nodurilor Ã®n reÈ›eaua de test)
Photo by: https://explorer.acinq.co/#/)</p>

<p>Problema rutÄƒrii, Ã®n realitate este o ramurÄƒ Ã®n care se fac cercetÄƒri active Ã®n acest moment. Alegerea drumului optim Ã®n graf depinde de mai mulÈ›i factori dinamici: numÄƒrul de noduri, topologia reÈ›elei, capacitatea canalului de plÄƒÈ›i, comisia nodurilor intermediare.</p>

<p>Ca sÄƒ nu intrÄƒm Ã®n detalii, cÄƒutarea drumului È™i transmiterea plÄƒÈ›ilor Ã®n LN se realizeazÄƒ pe baza Onion Routing - tehnologia raspÃ¢ndirii informaÈ›iei Ã®n mod anonim, Ã®n reÈ›elele peer-to-peer.  Ãn acest fel, de exemplu, funcÈ›ioneazÄƒ Tor.</p>

<p>Totul este descentralizat, tot traficul este criptat. Nimeni nu È™tie de la cine È™i cÄƒtre cine, vin È™i se duc banii. De aici, Ã®ncÄƒ un avantaj.</p>

<p>ğŸ‘ <strong>Avantaj</strong>:
ReÈ›eaua LN este cu mult mai anonimÄƒ, decÃ¢t Ã®nsÄƒÈ™i el - Bitcoin.
Ãn primul rÃ¢nd, persoanele care fac plÄƒÈ›i Ã®ntre ei, sunt vÄƒzute doar de cÃ¢È›iva membri ai reÈ›elei. Ãn al doilea rÃ¢nd, chiar È™i Ã®ntre membrii reÈ›elei, doar primul È™i ultimul È™tie exact, de la cine È™i cÄƒtre cine vin È™i se transmit banii.</p>

<h3 id="43-comisioanele">4.3. Comisioanele</h3>
<p>RÄƒmÃ¢n douÄƒ Ã®ntrebÄƒri evidente.</p>

<p><strong>Ãntrebare numÄƒrul 1:</strong> De ce intermediarii trebuie sÄƒ verifice tranzacÈ›ii strÄƒine?
Ãn primul rÃ¢nd deoarece ei Ã®nsuÈ™i vor folosi mai uÈ™or LN. Ãn al doilea rÃ¢nd, deoarece ei vor primi din toatÄƒ asta un comision foarte mic, dar totuÈ™i comision. Ãn acest moment, reÈ›eaua este Ã®ntreÈ›inutÄƒ Ã®n mare parte de entuziaÈ™ti iar comisionul este aproape 0: 1 satoshi, sau 0.01 cent pentru fiecare intermediar.</p>

<p>ğŸ‘ Capacitatea canalelor - nu este o resursÄƒ mai scumpÄƒ decÃ¢t mÄƒrimea blocului. Deschiderea canelelor se face uÈ™or È™i necostisitor. De aceea comisioanele Ã®n LN sunt cu mult mai mici decÃ¢t comisioanele din Blockchain.</p>

<p><strong>Ãntrebarea numÄƒrul 2:</strong> Cum e cu comisionul la deschiderea/Ã®nchiderea canalului?</p>

<p>ÃntradevÄƒr, acest comision poate fi uneori È™i zeci de dolari. Ãn acest fel, plÄƒÈ›ile vor fi mai profitabile dacÄƒ se vor deschide/Ã®nchide canale mai puÈ›ine. Aceasta motiveazÄƒ oamenii sÄƒ deschidÄƒ canale cu depozite mari, È™i sÄƒ foloseascÄƒ canalele Ã®n douÄƒ direcÈ›ii: nu doar pentru plÄƒÈ›ile care pleacÄƒ ci È™i pentru cele care vin. De exemplu: eu deschid un canal, fac o depunere de 1000$, È™i folosesc canalul dat doar pentru plÄƒÈ›ile de ieÈ™ire. Valoarea canalului va fi de 1000 dolari, din care undeva 20 de doloari se vor plÄƒti pentru deschiderea/Ã®nchiderea canalului. AdicÄƒ, comisia totalÄƒ va fi de 2%. Un pic mai bine decÃ¢t cum e la Visa È™i Mastercard, dar evident mai mult decÃ¢t aÈ™ fi dorit. SituaÈ›ia se schimbÄƒ drastic cÃ¢nd eu Ã®ncep sÄƒ folosesc Lightning la maxim: fÄƒcÃ¢nd depozite mai mari È™i primind bani prin intermediul canalelor, ci nu doar cheltuindu-i. Atunci, depinzÃ¢nd de proporÈ›ia intrare/ieÈ™ire a banilor, canalul poate fi deschis la infinit È™i comisioanele vor tinde spre zero.</p>

<h3 id="44-critici">4.4. Critici</h3>
<p>Pe internet se poate gÄƒsi o mulÈ›ime de critici legate de soluÈ›ia    layer-ului 2 È™i de Lighting Network Ã®n general. Careva puncte Ã®ntradevÄƒr meritÄƒ atenÈ›ie, multe - trebuie deja uitate. CÃ¢teva exemple:</p>

<ol>
  <li><strong>Folosirea LN va duce la centralizare: utilizatorii vor fi motivaÈ›i sÄƒ se conecteze la hub-uri mari iar aceste hub-uri vor controla tot traficul.</strong></li>
</ol>

<p>Un asemenea risc existÄƒ, dar acesta este foarte mic. Ãn primul rÃ¢nd, e foarte economic È™i foarte simplu de realizat un nou nod care va respinge hub-urile mari. Ãn al doilea rÃ¢nd, algoritmii de rutare urmÄƒresc balansarea traficului. Ãn al treilea rÃ¢nd, la acest moment, asemenea problemÄƒ nu existÄƒ.</p>

<ol>
  <li><strong>Capacitatea micÄƒ a canaleleor va face ca LN sÄƒ fie suprasolicitÄƒ, comisioanele vor creÈ™te È™i cel mai probabil situaÈ›ia va fi la fel, ca È™i Ã®n Blockchainul de baza.</strong></li>
</ol>

<p>ÃncÄƒ o datÄƒ, Ã®ndatÄƒ ce aÈ™a ceva se va Ã®ntÃ¢mpla, persoanele vor fi motivate sÄƒ deschidÄƒ noduri personale. Ãn comparaÈ›ie cu mÄƒrimea blocului, numÄƒrul de noduri, este practic nelimitatÄƒ.</p>

<ol>
  <li><strong>O rutare efectivÄƒ la un numÄƒr mare de noduri peer-to-peer este imposibilÄƒ. Mai ales È›inÃ¢nd cont de dificultatea deschiderii a noi canale.</strong></li>
</ol>

<p>PÃ¢nÄƒ la o asemenea problemÄƒ este foarte È™i foarte departe iar cercetÄƒrile Ã®n acest domeniu Ã®n mod activ au loc chiar Ã®n acest moment. Cu siguranÈ›Äƒ se vor lua ceva mÄƒsuri.</p>

<ol>
  <li><strong>Canele sunt nevoie mereu sÄƒ fie deschise È™i Ã®nchise, comisioanele folosite pentru aÈ™a ceva vor fi mari iar folosirea LN nu se va merita.</strong></li>
</ol>

<p>Defapt, problema datÄƒ este deja din trecut, pe care, nu Ã®nÈ›eleg de ce, Ã®ncÄƒ o discutÄƒ. Ceva timp Ã®n urmÄƒ, versiunile canalelor de platÄƒ Ã®ntradevÄƒr, erau doar Ã®ntr-o singurÄƒ direcÈ›ie, iar canalul putea sÄƒ existe doar o perioadÄƒ scurtÄƒ de timp. Acum aceste probleme sunt rezolvate.</p>

<ol>
  <li><strong>Pentru folosirea LN este nevoie sÄƒ fii online.</strong></li>
</ol>

<p>Ãn comparaÈ›ie cu versiunile anterioare ale LN, utilizatorul nu este nevoit sÄƒ se afle tot timpul online: alte noduri din reÈ›ea  vor verifica cÄƒ doi deÈ›inÄƒtori ale canalului de platÄƒ nu Ã®ncearcÄƒ sÄƒ se mintÄƒ unul pe altul. Ãn mod cert, trebuie sÄƒ fii online doar pentru trimiterea È™i primirea plÄƒÈ›ilor, care fÄƒrÄƒ nici o Ã®ndoialÄƒ este un neajuns, dar de aceastÄƒ datÄƒ, mult mai neimportant.</p>

<ol>
  <li><strong>LN - aceasta nu este sigur.</strong>
PlÄƒÈ›ile LN sunt un pic mai periculoase decÃ¢t plÄƒÈ›ile fÄƒcute direct Ã®n Blockchain. Dar, doar Ã®ntrun singur context: un atac cu succes de 51% asupra Blockchain-ului Bitcoin. Riscul dat este unul catastrofic de mic.</li>
</ol>

<h2 id="5-ln-astÄƒzi">5. LN astÄƒzi</h2>

<p>Lucrul cel mai important pe care trebuie sÄƒ-l cunoaÈ™teÈ›i: 
<strong>Lighthing</strong> deja se foloseÈ™te È™i funcÈ›ioneazÄƒ Ã®n realiate.</p>

<p>Mai mult de o mie de noduri Ã®n reÈ›eaua de testare bitcoin È™i mai mult de 200 de noduri(numÄƒrul creÈ™te Ã®n fiecare zi) Ã®n reÈ›eaua de bazÄƒ bitcoin(mainnet) deja verificÄƒ plÄƒÈ›i.</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Anyone want to help bug test new <a href="https://twitter.com/Blockstream?ref_src=twsrc%5Etfw">@Blockstream</a> <a href="https://twitter.com/hashtag/LightningNetwork?src=hash&amp;ref_src=twsrc%5Etfw">#LightningNetwork</a> store? The Github repos should make it easy enough for even <a href="https://twitter.com/coinbase?ref_src=twsrc%5Etfw">@coinbase</a> &amp; <a href="https://twitter.com/BitPay?ref_src=twsrc%5Etfw">@BitPay</a> to integrate with the second layer. Cypherpunks do not whine they write code. Right <a href="https://twitter.com/adam3us?ref_src=twsrc%5Etfw">@adam3us</a>? <a href="https://twitter.com/hashtag/MYOTHERNODEISASATELLITE?src=hash&amp;ref_src=twsrc%5Etfw">#MYOTHERNODEISASATELLITE</a> <a href="https://twitter.com/hashtag/DONTTRUSTVERIFY?src=hash&amp;ref_src=twsrc%5Etfw">#DONTTRUSTVERIFY</a> <a href="https://t.co/Il3YBvirYo">pic.twitter.com/Il3YBvirYo</a></p>&mdash; Trace Mayer (@TraceMayer) <a href="https://twitter.com/TraceMayer/status/953430172019101696?ref_src=twsrc%5Etfw">January 17, 2018</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Ce È›ine de softuri - existÄƒ trei implementÄƒri de bazÄƒ, lnt de la Lightning Labs, c-lightning de la Blockstream, eclair de la ACINQ.</p>

<p>Aceste echipe, nu doar de un an lucreazÄƒ Ã®mpreunÄƒ, pentru a dezvolta un standard comun de interacÈ›iune a nodurilor: Lighthing Network Specifications(BOLTs). È˜i uite cÄƒ chiar la sfÃ¢rÈ™itul anului 2017, au testat protocolul de plÄƒÈ›i, Ã®mpreunÄƒ, È™i toate cele trei implementÄƒri au fost cu succes.</p>

<p>SÄƒ achiÈ›i cu bitcoini reali folosind LN, se poate doar la cÃ¢teva magazine online. Dar, asta e doar cu cÃ¢teva magazine mai multe decÃ¢t acum o lunÄƒ, iar acesta deja este succes.</p>

<p>Desigur, momentul general de transfer de la on-chain bitcoin la plÄƒÈ›i off-chain este Ã®ncÄƒ foarte departe. O muncÄƒ imensÄƒ urmeazÄƒ sÄƒ o facÄƒ dezvoltatorii de portofele virtuale, nodurile de platÄƒ, bursele, magazinele-online, È™i, nu Ã®n ultimul rÃ¢nd - utilizatorii. Cel mai interesant Ã®n aceastÄƒ istorie este cÄƒ tranzacÈ›ii mult mai rapide, anonime È™i gratis - sunt doar Ã®nceputul! UrmeazÄƒ o mai multÄƒ anonimitate, swap-uri atomice, schimburi distribuite È™i mult, mult mai mult.</p>

<p>Viitorul aratÄƒ interesant!</p>


  </div>

  <div>
    Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/Despre-Lightning-Network/">Facebook,</a>
    <a href="https://plus.google.com/share?url=http://localhost:4000/Despre-Lightning-Network/">Google Plus,</a>
    <a href="https://twitter.com/intent/tweet?text=Despre Lightning Network&url=http://localhost:4000/Despre-Lightning-Network/&via=&related=" >Twitter</a>
</div>
  
  <div class="space-medium"></div>
  
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = 'http-hackmajoris-github-io';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</article>


    </div>


    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
            <div class="svg-icon">
          
<a href="mailto:hackmajoris@gmail.com"><i class="icon-envelope icon-2x"></i></a>


<a href="https://github.com/hackmajoris"><i class="icon-github icon-2x"></i></a>

<a href="https://www.linkedin.com/in/viplord"><i class="icon-linkedin-sign icon-2x"></i></a>


<a href="https://www.twitter.com/hackmajoris"><i class="icon-twitter icon-2x"></i></a>
<a href="http://stackoverflow.com/users/3432427/hackmajoris"><i class="icon-stackexchange icon-2x"></i></a>



            </div>
        </footer>
      </div>
    </div>


    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-112315065-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/Despre-Lightning-Network/',
		  'title': 'Despre Lightning Network'
		});
	</script>
	<!-- End Google Analytics -->



  </body>
</html>
