<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Hackmajoris's blog Blog</title>
        <link>https://hackmajoris.github.io/</link>
        <description>Hackmajoris's blog Blog</description>
        <lastBuildDate>Sat, 17 Jun 2023 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[developers-enemy]]></title>
            <link>https://hackmajoris.github.io/2023/06/17/developers-enemy</link>
            <guid>https://hackmajoris.github.io/2023/06/17/developers-enemy</guid>
            <pubDate>Sat, 17 Jun 2023 00:00:00 GMT</pubDate>
        </item>
        <item>
            <title><![CDATA[ğŸš€ DispariÈ›ia bÄƒncii Silicon Valley]]></title>
            <link>https://hackmajoris.github.io/2023/03/11/dispariÈ›ia-bÄƒncii</link>
            <guid>https://hackmajoris.github.io/2023/03/11/dispariÈ›ia-bÄƒncii</guid>
            <pubDate>Sat, 11 Mar 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Sursa tradusa. Sursa originala]]></description>
            <content:encoded><![CDATA[<p>Sursa tradusa. Sursa <a href="https://www.netinterest.co/p/the-demise-of-silicon-valley-bank" target="_blank" rel="noopener noreferrer">originala</a></p><p>Un articol ce meritÄƒ tradus È™i rÄƒspÃ¢ndit Ã®n cÃ¢t mai multe limbi, pentru a Ã®nÈ›elege cum funcÈ›ioneazÄƒ sistemul bancar.</p><h1>"Colapsul rapid al celei de-a 16-a celei mai mari bÄƒnci din America"</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cÃ¢nd-nu-lucrezi-ce-faci-pentru-a-reduce-stresul">CÃ¢nd nu lucrezi, ce faci pentru a reduce stresul?"<a href="#cÃ¢nd-nu-lucrezi-ce-faci-pentru-a-reduce-stresul" class="hash-link" aria-label="Direct link to CÃ¢nd nu lucrezi, ce faci pentru a reduce stresul?&quot;" title="Direct link to CÃ¢nd nu lucrezi, ce faci pentru a reduce stresul?&quot;">â€‹</a></h2><p>Acesta a fost ultima Ã®ntrebare la care Greg Becker, CEO al Silicon Valley Bank, a rÄƒspuns la o conferinÈ›Äƒ de investitori Ã®n aceastÄƒ sÄƒptÄƒmÃ¢nÄƒ.
"Ciclismu, este sfatul meu", a rÄƒspuns el. "Locuind Ã®n nordul Californiei È™i fiind pe peninsulÄƒ. Cred cÄƒ este cea mai bunÄƒ zonÄƒ cu pistÄƒ de biciclete din
lume, punct."
La trei zile dupÄƒ aceasta, banca lui Becker se aflÄƒ Ã®n administrare judiciarÄƒ.</p><p>Am discutat anterior despre riscul de dobÃ¢ndÄƒ care pÃ¢ndeÈ™te bilanÈ›urile bÄƒncilor È™i despre modul Ã®n care industria Ã®l gestioneazÄƒ. Ãn timpul
pandemiei, bÄƒncile au primit volume record de noi depozite. Ãntre sfÃ¢rÈ™itul anului 2019 È™i primul trimestru al anului 2022, depozitele la bÄƒncile
americane au crescut cu 5,40 trilioane de dolari. Cu cererea de Ã®mprumut slabÄƒ, doar aproximativ 15% din acest volum a fost canalizat cÄƒtre
Ã®mprumuturi; restul a fost investit Ã®n portofolii de titluri sau pÄƒstrat sub formÄƒ de numerar. Portofoliile de titluri s-au extins la 6,26 trilioane
de dolari, Ã®n creÈ™tere de la 3,98 trilioane de dolari la sfÃ¢rÈ™itul anului 2019, iar balanÈ›ele de numerar au crescut la 3,38 trilioane de dolari faÈ›Äƒ
de 1,67 trilioane de dolari.</p><p>CÃ¢nd bÄƒncile achiziÈ›ioneazÄƒ titluri de valoare, sunt obligate sÄƒ decidÄƒ Ã®nainte dacÄƒ intenÈ›ioneazÄƒ sÄƒ le deÈ›inÄƒ pÃ¢nÄƒ la scadenÈ›Äƒ. Decizia dicteazÄƒ
dacÄƒ titlurile sunt desemnate ca active "È›inute pÃ¢nÄƒ la scadenÈ›Äƒ" (HTM) sau ca active "disponibile pentru vÃ¢nzare" (AFS). Activele HTM nu sunt marcate
la piaÈ›Äƒ: bÄƒncile pot privi fÄƒrÄƒ grijÄƒ cum obligaÈ›iunile pierd valoare; acestea rÄƒmÃ¢n lipite de bilanÈ› la costul amortizat indiferent. Ãn schimb,
activele AFS sunt marcate la piaÈ›Äƒ - o desemnare mai purÄƒ, dar care injecteazÄƒ un element de volatilitate Ã®n baza de capital a unei bÄƒnci. Pentru
bÄƒncile mai mici, reglementatorii trec cu vederea aceastÄƒ volatilitate, dar pentru bÄƒncile cu active de peste 700 miliarde de dolari, aceastÄƒ
volatilitate afecteazÄƒ direct capitalul reglementar.</p><p>Dar apoi aÈ™teptÄƒrile privind rata dobÃ¢nzii au Ã®nceput sÄƒ se schimbe È™i preÈ›urile obligaÈ›iunilor au Ã®nceput sÄƒ scadÄƒ. DupÄƒ ce au stat pe cÃ¢È™tigurile
neÃ®nregistrate pe piaÈ›a de valori ale portofoliilor lor de valori mobiliare, bÄƒncile au Ã®nceput sÄƒ vadÄƒ apariÈ›ia pierderilor. CÃ¢È™tigurile
neÃ®nregistrate de 39 miliarde de dolari la sfÃ¢rÈ™itul anului 2020 pentru portofoliile AFS ale bÄƒncilor au trecut la pierderi neÃ®nregistrate de 31
miliarde de dolari la sfÃ¢rÈ™itul anului 2021.</p><p>Pentru a opri scurgerea de bani, multe bÄƒnci au reclasificat valorile mobiliare AFS ca fiind HTM. Acest lucru Ã®nseamnÄƒ recunoaÈ™terea pierderilor Ã®n
avans, dar schimbarea ar proteja balanÈ›ele de alte pierderi pe mÄƒsurÄƒ ce preÈ›urile obligaÈ›iunilor continuau sÄƒ scadÄƒ. Cea mai mare bancÄƒ, JPMorgan, a
transferat 342 miliarde de dolari din valori mobiliare AFS Ã®n valori mobiliare HTM, reducÃ¢nd ponderea AFS la 30%. Altele au urmat: Ãn Ã®ntreaga
industrie, ponderea valorilor mobiliare deÈ›inute ca AFS a scÄƒzut de la trei sferturi la puÈ›in peste jumÄƒtate la sfÃ¢rÈ™itul anului 2022.</p><p>Diferite bÄƒnci au adoptat diferite strategii. JPMorgan a reÈ›inut o mulÈ›ime de numerar È™i a ales sÄƒ gestioneze agresiv portofoliul AFS. "Vindem valori
mobiliare scumpe È™i cumpÄƒrÄƒm cele ieftine", a spus CEO-ul Jamie Dimon Ã®n apelul sÄƒu de cÃ¢È™tiguri al celui de-al treilea trimestru. Fifth Third a decis
sÄƒ aÈ™tepte Ã®nainte de a-È™i investi depozitele excedentare Ã®n valori mobiliare. "Ne permitem sÄƒ fim rÄƒbdÄƒtori", a spus CFO-ul sÄƒu Ã®ntr-un apel de
cÃ¢È™tiguri Ã®n ianuarie 2021. Fifth Third a fÄƒcut probabil mutarea prea devreme Ã®n 2022, dar totuÈ™i a reuÈ™it sÄƒ obÈ›inÄƒ randamente puÈ›in mai bune decÃ¢t
bÄƒncile care au investit pe piaÈ›Äƒ mai devreme.</p><p>Unele bÄƒnci au greÈ™it complet. First Republic este una dintre acestea despre care am discutat Ã®n octombrie. O altÄƒ bancÄƒ care a greÈ™it, evident, este
Silicon Valley Bank.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="o-privire-Ã®n-bilanÈ›ul-silicon-valley">O privire Ã®n bilanÈ›ul Silicon Valley<a href="#o-privire-Ã®n-bilanÈ›ul-silicon-valley" class="hash-link" aria-label="Direct link to O privire Ã®n bilanÈ›ul Silicon Valley" title="Direct link to O privire Ã®n bilanÈ›ul Silicon Valley">â€‹</a></h2><p>Silicon Valley Bank a fost Ã®nfiinÈ›atÄƒ Ã®n 1983 pentru a servi ecosistemul tehnologic Ã®n plinÄƒ dezvoltare din Valea Sillicon. ReglementÄƒrile revizuite
au uÈ™urat procesul de obÈ›inere a unei licenÈ›e bancare, iar Silicon Valley Bank a devenit una dintre cele 72 de bÄƒnci noi lansate Ã®n California Ã®n acel
an. A crescut Ã®ncet, supravieÈ›uind unui colaps imobiliar care a dus la o pierdere semnificativÄƒ Ã®n 1992, Ã®nainte de a se confrunta cu boom-ul È™i
prÄƒbuÈ™irea tehnologicÄƒ cÃ¢È›iva ani mai tÃ¢rziu.</p><p>Silicon Valley Bank oferÄƒ companiilor tech o gamÄƒ largÄƒ de produse: servicii de depozit, Ã®mprumuturi, produse de investiÈ›ii, managementul cash-ului,
finanÈ›e comerciale È™i multe altele. Deoarece companiile mai tinere au tendinÈ›a de a avea mai multe disponibilitÄƒÈ›i de numerar decÃ¢t datorii,
majoritatea banilor bÄƒncii sunt obÈ›inuÈ›i Ã®n mod tradiÈ›ional din partea activitÄƒÈ›ii de depozit.</p><p>ImpulsionatÄƒ de boom-ul finanÈ›Äƒrii de capital de risc, mulÈ›i dintre clienÈ›ii Silicon Valley au avut un surplus de bani Ã®n 2020 È™i 2021. Ãntre
sfÃ¢rÈ™itul anului 2019 È™i primul trimestru al anului 2022, balanÈ›a depozitelor bÄƒncii s-a triplat, ajungÃ¢nd la 198 de miliarde de dolari (inclusiv o
micÄƒ achiziÈ›ie a Boston Private Financial Holdings). Acest lucru se comparÄƒ cu o creÈ™tere a depozitelor din industrie de â€doarâ€ 37% Ã®n perioada
respectivÄƒ. Aproximativ douÄƒ treimi din depozitele erau depozite de cerere neremunerate È™i restul ofereau o ratÄƒ micÄƒ de dobÃ¢ndÄƒ. Ãn total, la
sfÃ¢rÈ™itul anului 2022, costul depozitelor Silicon Valley era de 1,17% (faÈ›Äƒ de 0,04% la sfÃ¢rÈ™itul anului 2021).</p><p>Banca a investit majoritatea acestor depozite Ã®n valori mobiliare. A adoptat o strategie Ã®n douÄƒ etape: sÄƒ-È™i protejeze o parte din lichiditÄƒÈ›i Ã®n
valori mobiliare disponibile pentru vÃ¢nzare cu duratÄƒ mai scurtÄƒ, Ã®n timp ce cÄƒuta randamentul cu o carte cu duratÄƒ mai lungÄƒ deÈ›inutÄƒ pÃ¢nÄƒ la
scadenÈ›Äƒ. Pe baza costului, cartea AFS cu duratÄƒ mai scurtÄƒ a crescut de la 13,9 miliarde de dolari la sfÃ¢rÈ™itul anului 2019 la 27,3 miliarde de
dolari la vÃ¢rf Ã®n primul trimestru al anului 2022; cartea HTM cu duratÄƒ mai lungÄƒ a crescut mult mai mult: de la 13,8 miliarde de dolari la 98,7
miliarde de dolari. Parte din creÈ™tere reflectÄƒ transferul de 8,8 miliarde de dolari de valori mobiliare de la AFS la HTM, dar majoritatea reflectÄƒ
achiziÈ›ii pe piaÈ›Äƒ.</p><p>"Pe baza mediului actual, am plasa probabil banii Ã®n plajÄƒ de 1,65%, 1,75%", a spus CFO-ul bÄƒncii la Ã®nceputul anului 2022, referindu-se la
randamentele pe care dorea sÄƒ le obÈ›inÄƒ. "Majoritatea fiind garanÈ›ii ipotecare ale agenÈ›iilor, garanÈ›ii colaterale ipotecare, lucruri de genul
acesta."</p><p><img loading="lazy" src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2f1cc305-bb27-4a12-99f5-5f6a0c000eb4_733x478.png" class="img_ev3q"></p><p>NotÄƒ: Toate datele sunt Ã®n milioane de dolari americani, cumulate Ã®ncepÃ¢nd cu decembrie 2019; evaluÄƒrile valorilor titlurilor sunt exprimate la costul
amortizat.</p><p>Problema este cÄƒ atunci cÃ¢nd ratele au Ã®nceput sÄƒ creascÄƒ, activele ipotecare au fost lovite puternic. Durata portofoliului HTM al Silicon Valley a
ajuns la 6,2 ani, la sfÃ¢rÈ™itul anului 2022, iar pierderile neÃ®nregistrate au crescut de la zero Ã®n iunie 2021, la 16 miliarde de dolari Ã®n septembrie</p><ol start="2022"><li>Aceasta reprezintÄƒ o scÄƒdere de 17% pe piaÈ›a marcatÄƒ. Cartea mai micÄƒ AFS a fost de asemenea afectatÄƒ, dar nu la fel de rÄƒu. Pierderile marcate
la valoarea de piaÈ›Äƒ au ajuns la 9% la sfÃ¢rÈ™itul lunii septembrie.</li></ol><p>Pierderile au fost atÃ¢t de mari Ã®ncÃ¢t, din punct de vedere al valorii de piaÈ›Äƒ, Silicon Valley Bank era tehnic insolvent la sfÃ¢rÈ™itul lunii
septembrie. Pierderile marcate la valoarea de piaÈ›Äƒ de 15,9 miliarde de dolari ale HTM au absorbit complet cele 11,8 miliarde de dolari din capitalul
comun tangibil care a susÈ›inut bilanÈ›ul bÄƒncii.</p><p>ReÈ›ineÈ›i Ã®nsÄƒ cÄƒ aceste pierderi nu trebuie Ã®nregistrate Ã®n cÄƒrÈ›ile bÄƒncii, aÈ™a cÄƒ CEO-ul Silicon Valley ar putea sÄƒ ia bicicleta pentru o plimbare
fÄƒrÄƒ griji. DeÈ™i nu este ideal pentru marja sa - Ã®n piaÈ›Äƒ erau disponibile randamente mult mai mari decÃ¢t cele 1,65%, 1,75% pe care banca le-a
urmÄƒrit - situaÈ›ia nu a fost fatalÄƒ. â€Vestea bunÄƒ este cÄƒ portofoliul de titluri valoreazÄƒ constant. Deci vedem aproximativ 3 miliarde de dolari pe
trimestru â€, a spus CFO-ul grupului Ã®n apelul sÄƒu de cÃ¢È™tiguri din al treilea trimestru. Va dura mult timp, dar se aÈ™tepta ca pierderile sÄƒ se desfacÄƒ
pe mÄƒsurÄƒ ce obligaÈ›iunile sunt rÄƒscumpÄƒrate.</p><p>Ceea ce nici CEO-ul, nici CFO-ul nu au anticipat, Ã®nsÄƒ, a fost cÄƒ depozitele ar putea scÄƒdea mai rapid. Ceea ce este ciudat, deoarece au vÄƒzut cÄƒ
depozitele s-au redus Ã®n urmÄƒ cu 20 de ani, Ã®n urma prÄƒbuÈ™irii dotcom, cÃ¢nd depozitele bÄƒncii au scÄƒzut de la 4,5 miliarde de dolari la 3,4 miliarde
de dolari la sfÃ¢rÈ™itul anului 2001, pe mÄƒsurÄƒ ce clienÈ›ii au utilizat rezervele lor de numerar.</p><p>Directorul de Risc poate cÄƒ a observat cÃ¢teva semne de Ã®ngrijorare, dar nu a stat sÄƒ afle mai multe. Ea È™i-a pÄƒrÄƒsit poziÈ›ia Ã®n aprilie 2022 (dupÄƒ ce
a vÃ¢ndut unele acÈ›iuni Ã®n decembrie) È™i nu a fost Ã®nlocuitÄƒ pÃ¢nÄƒ Ã®n ianuarie 2023.</p><p>De data aceasta, depozitele au scÄƒzut de la 198 de miliarde de dolari la sfÃ¢rÈ™itul lunii martie 2022 la 173 de miliarde de dolari la sfÃ¢rÈ™itul lui
decembrie (È™i la 165 de miliarde de dolari la sfÃ¢rÈ™itul lunii februarie 2023). O parte din declin reflectÄƒ o contracÈ›ie la nivelul Ã®ntregului sistem.
Ãnainte de 2022, Ã®n ultimii cincizeci de ani, Ã®n SUA s-au Ã®nregistrat doar zece trimestre de ieÈ™iri de depozite; acum am vÄƒzut patru trimestre de
ieÈ™iri. Dar factorii care au dus la creÈ™terea cotei de piaÈ›Äƒ a Silicon Valley Bank Ã®n timpul creÈ™terii sunt instrumentali Ã®n pierderea cotei de piaÈ›Äƒ
pe parcursul declinului.</p><p>Pentru a-È™i reaÈ™eza bilanÈ›ul pentru a se adapta ieÈ™irilor de depozite È™i a creÈ™te flexibilitatea, Silicon Valley a vÃ¢ndut sÄƒptÄƒmÃ¢na aceasta 21 de
miliarde de dolari Ã®n valori mobiliare disponibile pentru vÃ¢nzare pentru a obÈ›ine lichiditÄƒÈ›i. Deoarece pierderea (1,8 miliarde de dolari dupÄƒ
impozitare) va fi absorbitÄƒ Ã®n poziÈ›ia sa de capital reglementar, banca a trebuit sÄƒ-È™i mÄƒreascÄƒ capitalul odatÄƒ cu restructurarea.</p><p>Din pacate, majorarea capitalului nu a fost realizatÄƒ niciodatÄƒ. Banca a ales sÄƒ anunÈ›e restructurarea bilanÈ›ului Ã®n aceeaÈ™i zi Ã®n care Silvergate
Capital a anunÈ›at cÄƒ intrÄƒ Ã®n lichidare voluntarÄƒ. Am discutat despre Silvergate sÄƒptÄƒmÃ¢na trecutÄƒ. Modelele de afaceri sunt destul de diferite, dar
provocÄƒrile privind trezoreria nu sunt. Ambele bÄƒnci au avut probleme Ã®n a-È™i limita pierderile de obligaÈ›iuni Ã®ntr-un moment Ã®n care pierdeau
depozite. Temerile clienÈ›ilor au transformat scurgerea lentÄƒ de depozite a Silicon Valley Bank Ã®ntr-un val.</p><p><img loading="lazy" src="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa5164a37-e480-47a0-8870-20390a2dc885_733x478.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="infarct-miocardic-Ã®n-trezorerie">Infarct miocardic Ã®n trezorerie<a href="#infarct-miocardic-Ã®n-trezorerie" class="hash-link" aria-label="Direct link to Infarct miocardic Ã®n trezorerie" title="Direct link to Infarct miocardic Ã®n trezorerie">â€‹</a></h2><p>Ãn era digitalÄƒ, nu am avut niciodatÄƒ o crizÄƒ bancarÄƒ. Northern Rock din Marea Britanie Ã®n 2007 a fost anterior perioadei de banking mobil; este
amintit prin imagini cu deponenÈ›i care aÈ™teptau rÃ¢ndul (cu rÄƒbdare) Ã®n afara filialelor sale de suburbi. Ãn 2019, un zvon fals pe WhatsApp a declanÈ™at
o micÄƒ crizÄƒ la Metro Bank, de asemenea Ã®n Marea Britanie, dar a fost localizatÄƒ È™i rezolvatÄƒ rapid. Credit Suisse a pierdut 37% din depozitele sale
Ã®ntr-un singur trimestru la sfÃ¢rÈ™itul anului trecut, pe mÄƒsurÄƒ ce se intensificau preocupÄƒrile cu privire la poziÈ›ia sa financiarÄƒ, cu toate acestea,
cel puÈ›in internaÈ›ional, retragerile de Ã®naltÄƒ valoare ar fi trebuit sÄƒ fie fÄƒcute prin telefon, nu prin intermediul unei aplicaÈ›ii.</p><p>Problema, desigur, este cÄƒ procesarea unei retrageri online este mai rapidÄƒ È™i mai eficientÄƒ decÃ¢t prin intermediul unei filiale. È˜i, deÈ™i imaginea
unei crize poate fi diferitÄƒ, nu este mai puÈ›in vizibilÄƒ. Ieri, Twitter a fost inundat cu poveÈ™ti despre firmele de capital de risc care au instruit
companiile din portofoliu sÄƒ-È™i mute fondurile din Silicon Valley Bank. Oamenii au postat capturi de ecran ale site-ului Silicon Valley Bank care se
lupta sÄƒ facÄƒ faÈ›Äƒ cererii utilizatorilor. Greg Becker, CEO-ul bÄƒncii, a fost nevoit sÄƒ organizeze o Ã®ntÃ¢lnire cu cei mai importanÈ›i capitaliÈ™ti de
risc. "AÈ™ ruga pe toatÄƒ lumea sÄƒ rÄƒmÃ¢nÄƒ calmÄƒ È™i sÄƒ ne susÈ›inÄƒ la fel cum v-am susÈ›inut Ã®n timpurile dificile", a spus el.</p><p><img loading="lazy" src="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F193058b9-4d70-4877-88cc-fd7b46e3ff3f_1144x2479.jpeg" class="img_ev3q"></p><p>[Editare: Conform unei ordonanÈ›e emise de regulatorul bancar din California, Departamentul de ProtecÈ›ie È™i Inovare FinanciarÄƒ, clienÈ›ii au iniÈ›iat retrageri de 42 de miliarde de dolari din depozitele bÄƒncii pe 9 martie 2023, echivalentul a un sfert din totalul depozitelor sale.]</p><p>Problema la Silicon Valley Bank este amplificatÄƒ de baza sa relativ concentratÄƒ de clienÈ›i. Ãn niÈ™a sa, toÈ›i clienÈ›ii sÄƒi se cunosc Ã®ntre ei. È˜i
Silicon Valley Bank nu are atÃ¢t de mulÈ›i clienÈ›i. La sfÃ¢rÈ™itul anului 2022, avea 37.466 de clienÈ›i de depozite, fiecare avÃ¢nd Ã®n cont sume de peste
250.000 de dolari. Excelent pentru recomandÄƒri cÃ¢nd afacerea prosperÄƒ, aceastÄƒ concentrare poate amplifica un cerc vicios cÃ¢nd condiÈ›iile se
inverseazÄƒ.</p><p>Ãntr-adevÄƒr, pragul de 250.000 de dolari este foarte relevant. Acesta reprezintÄƒ limita pentru asigurarea depozitelor. Ãn total, clienÈ›ii cu solduri
mai mari decÃ¢t aceasta reprezintÄƒ 157 miliarde de dolari din baza de depozite a Silicon Valley Bank, avÃ¢nd Ã®n medie 4,2 milioane de dolari Ã®n cont
fiecare. Banca mai are Ã®ncÄƒ 106.420 de clienÈ›i ale cÄƒror conturi sunt complet asigurate, dar aceÈ™tia controleazÄƒ doar 4,8 miliarde de dolari din
depozite. Ãn comparaÈ›ie cu bÄƒncile mai orientate cÄƒtre consumatori, baza de depozite a Silicon Valley Bank se Ã®ndreaptÄƒ foarte mult spre depozitele
neasigurate. Din totalul sÄƒu de 173 de miliarde de dolari de depozite la sfÃ¢rÈ™itul anului 2022, 152 de miliarde de dolari sunt neasigurate.</p><p>Deci, cum ar fi putut banca sÄƒ satisfacÄƒ cererile de retragere ale clienÈ›ilor?</p><p>Un lucru pe care nu l-ar fi putut face ar fi sÄƒ acceseze portofoliul sÄƒu de titluri deÈ›inute pÃ¢nÄƒ la maturitate. VÃ¢nzarea unui singur bond ar declanÈ™a
evaluarea Ã®ntregului portofoliu pe piaÈ›Äƒ, ceea ce banca nu ar fi avut capitalul necesar pentru a-l absorbi.</p><p>Ar fi putut sÄƒ Ã®i ademeneascÄƒ pe depunÄƒtori Ã®napoi cu rate mai mari (aÈ™a cum a Ã®ncercat Credit Suisse). Ãn special, Silicon Valley Bank supravegheazÄƒ
161 miliarde de dolari de fonduri ale clienÈ›ilor Ã®n afara bilanÈ›ului (la sfÃ¢rÈ™itul lunii februarie), pe care le-ar fi putut atrage Ã®napoi pe bilanÈ›ul
sÄƒu. Dar banca oferÄƒ deja 1,17% dobÃ¢ndÄƒ la depozite, ceea ce este aproape de douÄƒ ori mai mare decÃ¢t media de 0,65% a marilor bÄƒnci din SUA. È˜i...
bine... peste 250.000 de dolari È™i nu eÈ™ti asigurat.</p><p>Ar fi putut sÄƒ Ã®mprumute fonduri. Anul trecut, Silicon Valley Bank a apelat la Federal Home Loan Bank of San Francisco pentru 15 miliarde de dolari È™i
avea capacitatea de a Ã®mprumuta mai mult. Am discutat despre Federal Home Loan Bank of San Francisco aici sÄƒptÄƒmÃ¢na trecutÄƒ Ã®n contextul lui
Silvergate. Ei sunt cei care au oprit liniile lor de finanÈ›are cÄƒtre Silvergate, ducÃ¢ndu-l Ã®n lichidare. La sfÃ¢rÈ™itul anului, Silicon Valley Bank era
deja cel mai mare Ã®mprumutÄƒtor al lor, reprezentÃ¢nd 17% din avansuri. Pentru a bloca acel Ã®mprumut, Silicon Valley Bank a trebuit sÄƒ garanteze 19
miliarde de dolari Ã®n active. Problema este cÄƒ nu este ieftin. Banca a plÄƒtit 4,17% pe totalul Ã®mprumuturilor pe termen scurt la sfÃ¢rÈ™itul anului
2022, din care finanÈ›area Federal Home Loan Bank este cea mai mare parte. Ãn raport cu un randament de 1,79% pe portofoliul de titluri deÈ›inute pÃ¢nÄƒ
la maturitate, nu este o afacere prea atractivÄƒ.</p><p>ToatÄƒ aceastÄƒ situaÈ›ie a devenit acum nulÄƒ. Criza a Ã®nsemnat cÄƒ ridicarea de capital pentru acoperirea pierderilor din portofoliul AFS a fost anulatÄƒ,
lÄƒsÃ¢nd Silicon Valley Bank subcapitalizatÄƒ. Mai devreme astÄƒzi, banca a fost Ã®nchisÄƒ de cÄƒtre Departamentul pentru ProtecÈ›ia È™i Inovarea FinanciarÄƒ
din California (care a avut o sÄƒptÄƒmÃ¢nÄƒ aglomeratÄƒ, cu Silvergate de asemenea), care a invocat lipsa de lichiditate È™i
insolvenÈ›a. <!-- -->[Edit: Departamentul DFPI al Californiei a dezvÄƒluit cÄƒ, la Ã®nchiderea activitÄƒÈ›ii la 9 martie, Silicon Valley Bank avea un sold negativ de numerar de aproximativ 958 de milioane de dolari È™i cÄƒ, Ã®n ciuda Ã®ncercÄƒrilor de a transfera garanÈ›ii din diferite surse, nu a Ã®ndeplinit "scrisoarea de numerar" cu Federal Reserve.]</p><p>CorporaÈ›ia FederalÄƒ de Asigurare a Depozitelor (FDIC) a fost numitÄƒ curator. Toate depozitele asigurate au fost transferate la o bancÄƒ nou creatÄƒ,
Banca NaÈ›ionalÄƒ de Asigurare a Depozitelor din Santa Clara (DINB). Depozitorii neasiguraÈ›i, Ã®n schimb, sunt lÄƒsaÈ›i Ã®n aer. AceÈ™tia vor primi un "
dividend Ã®n avans" sÄƒptÄƒmÃ¢na viitoare, iar plÄƒÈ›ile ulterioare de dividende depind de vÃ¢nzarea activelor Silicon Valley Bank de cÄƒtre FDIC.</p><p>Ãn fericire, planul de rezoluÈ›ie al Silicon Valley Bank este Ã®ncÄƒ proaspÄƒt. Banca a devenit suficient de mare Ã®n 2021, Ã®ncÃ¢t reglementatorii au cerut
sÄƒ elaboreze un "testament viu" la fiecare trei ani. Silicon Valley Bank È™i-a prezentat primul astfel de document Ã®n decembrie.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concluzie">Concluzie<a href="#concluzie" class="hash-link" aria-label="Direct link to Concluzie" title="Direct link to Concluzie">â€‹</a></h2><p>AceastÄƒ situaÈ›ie va arunca probabil o umbrÄƒ lungÄƒ asupra industriei Ã®n general. Au trecut 868 de zile de la ultima falimentare a unei bÄƒnci din SUA,
aproape de cel mai lung interval Ã®nregistrat. Ãntre timp, consumatorii s-au obiÈ™nuit cu riscul, ceea ce se reflectÄƒ Ã®n creÈ™terea depozitelor
neasigurate, inclusiv Ã®n portofelele digitale.</p><p>Una dintre caracteristicile crizelor bancare este cÄƒ acestea rareori se repetÄƒ consecutiv. Acest lucru conteazÄƒ deoarece factorii de decizie au
tendinÈ›a de a elabora reguli bazate pe ultima crizÄƒ. Testele de stres din SUA includ diverse scenarii de credite neperformante, dar puÈ›ine privind
È™ocurile de dobÃ¢ndÄƒ. Scenariul sever negativ pentru randamentele la Trezorerie pe 10 ani este de 0,8-1,5%; scenariul de bazÄƒ, care reflectÄƒ o
recesiune mai uÈ™oarÄƒ, include randamente de 3,2-3,9%.</p><p>Ãn Europa, riscul de dobÃ¢ndÄƒ este supravegheat de reglementatori prin Ratios de Acoperire a LichiditÄƒÈ›ii (LCR). Acestea cer bÄƒncilor sÄƒ deÈ›inÄƒ
suficiente active lichide de Ã®naltÄƒ calitate (HQLA), cum ar fi datoria guvernamentalÄƒ pe termen scurt, care pot fi vÃ¢ndute pentru a finanÈ›a bÄƒncile
Ã®ntr-un scenariu de stres de 30 de zile elaborat de reglementatori. BÄƒncile trebuie sÄƒ deÈ›inÄƒ HQLA echivalent cu cel puÈ›in 100% din fluxurile de
numerar proiectate Ã®n timpul scenariului de stres.</p><p>Credit Suisse a rezistat creÈ™terii depozitelor neaÈ™igurate cu un LCR mediu de 144% (deÈ™i a scÄƒzut de la 192% la sfÃ¢rÈ™itul celui de-al treilea
trimestru). Silicon Valley Bank nu a fost niciodatÄƒ supus cerinÈ›elor de LCR ale Federal Reserve - chiar È™i ca a 16-a cea mai mare bancÄƒ din America, a
fost consideratÄƒ prea micÄƒ. Este o ruÈ™ine. Reglementarea nu este o panaceu deoarece bÄƒncile sunt plÄƒtite sÄƒ ia riscuri. Cu toate acestea, un cadru
reglementar care sÄƒ se potriveascÄƒ riscurilor zilei pare potrivit È™i este unul pentru care factorii de decizie americani pot fi acum nevoiÈ›i sÄƒ se
grÄƒbeascÄƒ.</p><p>plÄƒtit, vÄƒ rugÄƒm sÄƒ vÄƒ Ã®nscrieÈ›i pentru conÈ›inut sÄƒptÄƒmÃ¢nal despre sectorul financiar È™i o arhivÄƒ voluminoasÄƒ de peste 100 de numere anterioare.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ğŸš€ Amazon RDS Start-Stop Scheduler with CDK and TypeScript]]></title>
            <link>https://hackmajoris.github.io/2023/01/23/rds-start-stop-scheduler</link>
            <guid>https://hackmajoris.github.io/2023/01/23/rds-start-stop-scheduler</guid>
            <pubDate>Mon, 23 Jan 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Creating a schedule for your Amazon RDS instances and clusters can help you save money on running costs, and also ensure that your database is only running when it's needed.]]></description>
            <content:encoded><![CDATA[<p>Creating a schedule for your Amazon RDS instances and clusters can help you save money on running costs, and also ensure that your database is only running when it's needed.
It applies mostly on not-prod environments, where you have multiple RDS instances and the cost of running them becomes a problem.</p><p>There are several ways to schedule your RDS instances, such as using the AWS Management Console, the AWS Command Line Interface (CLI), or a third-party tool. However, one of the most effective ways to schedule your RDS instances is by using AWS Lambda and CloudWatch Events.</p><p>In the above example, everything is created via CDK stack in TypeScript. The Lambda will stop all the instances and clusters which will be found in the AWS account and the region specified in the CDK config. The RDS instances and clusters could be filtered using the the DescribeDBInstances/DescribeDBClusters API in order to apply the scheduler on a specific instance/cluster.</p><p>First, we need to create an IAM role that has the necessary permissions to interact with the RDS service. We can do this using the CDK by creating a new IAM role and attaching a policy that grants access to the RDS service.
Next, we will create a Lambda function using the CDK. In the function, we will use the AWS SDK for JavaScript in Node.js to interact with the RDS service. We will use the describeDBInstances and describeDBClusters methods to get a list of all available RDS instances and clusters, and then we will use the startDBInstance, startDBCluster, stopDBInstance methods to start or stop the instances and clusters.
After that, we need to create a CloudWatch Event that triggers the Lambda function. We can do this by creating a new CloudWatch Event and defining a schedule for when the event should trigger. For example, we can set the event to trigger every day at 7 am, except on weekends.
Finally, we will deploy the CDK stack, and the Lambda function, IAM role, and CloudWatch Event will be created and configured in your AWS account.</p><p>By following this process, you can ensure that your RDS instances and clusters are only running when they are needed, thus reducing your running costs. It's important to test the function before applying it to production, also to monitor the function's performance and to make sure that it's working correctly.
In summary, using AWS Lambda and CloudWatch Events to schedule your RDS instances and clusters is an effective and cost-efficient way to manage your RDS instances. It also allows you to take advantage of the scalability and flexibility of the AWS Lambda service, and easily automate the process of starting and stopping your RDS instances.</p><p>Here is the CDK stack:</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> cdk </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'aws-cdk-lib'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> lambda </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'aws-cdk-lib/aws-lambda'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> events </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'aws-cdk-lib/aws-events'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> aws_events_targets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> CfnOutput</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> NestedStack </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"aws-cdk-lib"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> Construct </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"constructs"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> iam </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'aws-cdk-lib/aws-iam'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">StartStopRdsStack</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">cdk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">NestedStack </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">constructor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scope</span><span class="token operator">:</span><span class="token plain"> Construct</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> props</span><span class="token operator">?</span><span class="token operator">:</span><span class="token plain"> cdk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">StackProps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scope</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> props</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// Create the Lambda function to start RDS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> startRdsInstancesLambda </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">lambda</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'psb-rds-start-lambda'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          runtime</span><span class="token operator">:</span><span class="token plain"> lambda</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Runtime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">NODEJS_14_X</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          functionName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'psb-rds-start-stop-lambda'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          code</span><span class="token operator">:</span><span class="token plain"> lambda</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Code</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">fromAsset</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"./lib/assets/functions/start-stop-rds-lambda"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          handler</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"index.handler"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          environment</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string-property property">"tag"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"some-tag"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string-property property">"info"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Shared function for starting-stopping RDS instances"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)">// Assign role to lambda to access RDS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        startRdsInstancesLambda</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addToRolePolicy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">iam</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">PolicyStatement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          effect</span><span class="token operator">:</span><span class="token plain"> iam</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Effect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">ALLOW</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          actions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">"rds:DescribeDBInstances"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">"rds:DescribeDBClusters"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">"rds:StartDBInstance"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">"rds:StartDBCluster"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">"rds:StopDBInstance"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">"rds:StopDBCluster"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          resources</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"*"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// Create the CloudWatch Event rule for starting RDS every day at 7 AM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> startRdsInstancesRule </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Rule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'psb-start-rds-instances-rule'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          schedule</span><span class="token operator">:</span><span class="token plain"> events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Schedule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">cron</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              minute</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'0'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              hour</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'7'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              month</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'*'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              weekDay</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'MON-FRI'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        startRdsInstancesRule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addTarget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">aws_events_targets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">LambdaFunction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">startRdsInstancesLambda</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// Create  the CloudWatch Event rule for stopping RDS every day at 18 PM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> stopRdsInstancesRule </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Rule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'psb-stop-rds-instances-rule'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          schedule</span><span class="token operator">:</span><span class="token plain"> events</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Schedule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">cron</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            minute</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'0'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            hour</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'18'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            month</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'*'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            weekDay</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'MON-FRI'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        stopRdsInstancesRule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">addTarget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">aws_events_targets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">LambdaFunction</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">startRdsInstancesLambda</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  Here is the Lambda function</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> Handler </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'aws-lambda'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">AWS</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'aws-sdk'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> rds </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:rgb(189, 147, 249)">AWS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">RDS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">enum</span><span class="token plain"> InstanceStatus </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">STOPPED</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'stopped'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">AVAILABLE</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'available'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> handler</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">Handler</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> instances </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> rds</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">describeDBInstances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Found instances: '</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBInstances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBInstances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> instance </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> instances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBInstances</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> identifier </span><span class="token operator">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBInstanceIdentifier</span><span class="token operator">!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> instanceStatus </span><span class="token operator">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBInstanceStatus</span><span class="token operator">!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">identifier</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> status: </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> instanceStatus</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">instanceStatus </span><span class="token operator">===</span><span class="token plain"> InstanceStatus</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">STOPPED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Starting DB Instance with identifier:  </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">identifier</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> rds</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">startDBInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> DBInstanceIdentifier</span><span class="token operator">:</span><span class="token plain"> identifier </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Stopping  DB Instance with identifier:  </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">identifier</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> rds</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stopDBInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> DBInstanceIdentifier</span><span class="token operator">:</span><span class="token plain"> identifier </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> describeClusters </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> rds</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">describeDBClusters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Found clusters: '</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> describeClusters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBClusters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">describeClusters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBClusters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> cluster </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> describeClusters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBClusters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> identifier </span><span class="token operator">=</span><span class="token plain"> cluster</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">DBClusterIdentifier</span><span class="token operator">!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> instanceStatus </span><span class="token operator">=</span><span class="token plain"> cluster</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Status</span><span class="token operator">!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">cluster</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">DBClusterIdentifier</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> status: </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> cluster</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cluster</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Status </span><span class="token operator">===</span><span class="token plain"> InstanceStatus</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">STOPPED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Starting DB Cluster with identifier:  </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">identifier</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> rds</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">startDBCluster</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> DBClusterIdentifier</span><span class="token operator">:</span><span class="token plain"> identifier </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">Stopping  DB Cluster with identifier:  </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">identifier</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> rds</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stopDBCluster</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> DBClusterIdentifier</span><span class="token operator">:</span><span class="token plain"> identifier </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    statusCode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'application/json'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> success</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    isBase64Encoded</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    statusCode</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">500</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    headers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'application/json'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    body</span><span class="token operator">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">JSON</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stringify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> error</span><span class="token operator">:</span><span class="token plain"> error </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    isBase64Encoded</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ğŸš€ Enjoy the process]]></title>
            <link>https://hackmajoris.github.io/2022/01/21/enjoy-the-process</link>
            <guid>https://hackmajoris.github.io/2022/01/21/enjoy-the-process</guid>
            <pubDate>Fri, 21 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[As a software developer, I find great joy in creating new products. The process of bringing an idea to life is incredibly satisfying, and there is nothing quite like seeing your work in use by others.]]></description>
            <content:encoded><![CDATA[<p>As a software developer, I find great joy in creating new products. The process of bringing an idea to life is incredibly satisfying, and there is nothing quite like seeing your work in use by others.</p><p>One of the things I love most about developing new products is the problem-solving aspect. Each project presents its own unique set of challenges, and finding the best solutions to those challenges is a constant source of inspiration and motivation for me.</p><p>I also enjoy the collaborative nature of product development. Working with a team of talented individuals to bring a shared vision to life is incredibly rewarding. Whether it's bouncing ideas off of one another, contributing to code reviews, or simply sharing a laugh over a particularly tricky bug, the camaraderie and sense of shared accomplishment is a big part of what makes developing new products so enjoyable.</p><p>Another aspect that I find enjoyable is the opportunity to learn and grow. As technology and best practices are always evolving, I am always learning new skills and techniques that help me become a better developer. Additionally, the opportunity to experiment with new technologies and approaches is always exciting.</p><p>In short, developing new products is a challenging and rewarding experience that offers a sense of accomplishment, opportunities for problem-solving, collaboration, and learning. It's a great joy for me as a software developer, and it's what keeps me motivated to continue to push the boundaries of what's possible.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ğŸš€ A Java DTO mapping exampleï¸]]></title>
            <link>https://hackmajoris.github.io/A Java DTO mapping exampleï¸</link>
            <guid>https://hackmajoris.github.io/A Java DTO mapping exampleï¸</guid>
            <pubDate>Tue, 22 May 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[Originally written here]]></description>
            <content:encoded><![CDATA[<p>Originally written <a href="https://hackmajoris.medium.com/a-generic-dtos-mapping-in-java-11d649b8a486" target="_blank" rel="noopener noreferrer">here</a></p><p>Sometimes you may need to use DTO's(Data Transfer Objects) in your application in order to hide some entity data(usually) in your REST'full API. For instance: You have a User entity which has some fields: username, email, password, ID.
You have an API which performs some CRUD operations on this entity and you want to hide user password at the moment when GET(only) operation is performed.
For such a feature you need to have a DTO Entity where you exclude the password field from the base Entity. You need somehow to map all the attributes from base entity to DTO entity end vice-versa
and it is nice if you'll do this automatically without mapping the attributes manually.</p><p>Here is how we can achieve this using ModelMapping...</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-test">How to test<a href="#how-to-test" class="hash-link" aria-label="Direct link to How to test" title="Direct link to How to test">â€‹</a></h2><ul><li><p>Download <a href="https://github.com/hackmajoris/java-dto-mapping" target="_blank" rel="noopener noreferrer">repository</a></p></li><li><p>Navigate terminal to the project root folder.</p></li><li><p>Run command </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> mvn </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> mvn spring-boot:run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-structure">Project structure<a href="#project-structure" class="hash-link" aria-label="Direct link to Project structure" title="Direct link to Project structure">â€‹</a></h3><p><img loading="lazy" src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*Dq96nIHWOe6DPoMl1Rg2GQ.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-model">User model<a href="#user-model" class="hash-link" aria-label="Direct link to User model" title="Direct link to User model">â€‹</a></h3><p>Here we have a simple User class with some attributes.</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">id </span><span class="token operator">=</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name </span><span class="token operator">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token operator">=</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">password </span><span class="token operator">=</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"User{"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">"id="</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> id </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">", name='"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> name </span><span class="token operator">+</span><span class="token plain"> </span><span class="token char" style="color:rgb(255, 121, 198)">'\''</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">", email='"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> email </span><span class="token operator">+</span><span class="token plain"> </span><span class="token char" style="color:rgb(255, 121, 198)">'\''</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">", password='"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> password </span><span class="token operator">+</span><span class="token plain"> </span><span class="token char" style="color:rgb(255, 121, 198)">'\''</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token char" style="color:rgb(255, 121, 198)">'}'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-service">User service<a href="#user-service" class="hash-link" aria-label="Direct link to User service" title="Direct link to User service">â€‹</a></h3><p>Here is a simple User service implementation. The database connection and data persistance is not the goal at this point.</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserService</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token class-name">User</span><span class="token plain"> user </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"User number 1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Email number 1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Password number 1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">DtoUtils</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">convertToDto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">readUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token class-name">User</span><span class="token plain"> user </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"User number 1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Email number 1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Password number 1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">DtoUtils</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">convertToDto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserReadDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">updateUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">DTOEntity</span><span class="token plain"> userDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token class-name">User</span><span class="token plain"> user </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">DtoUtils</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">convertToEntity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token class-name">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">println</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">DtoUtils</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">convertToDto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserUpdateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tdo-utils">TDO Utils<a href="#tdo-utils" class="hash-link" aria-label="Direct link to TDO Utils" title="Direct link to TDO Utils">â€‹</a></h3><p>The important part here is this utility class: </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">DtoUtils</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">convertToDto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ModelMapper</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getClass</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">convertToEntity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Object</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ModelMapper</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mapper</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getClass</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see, here we have two methods for in/out mapping. I tried to create them as generic is possible in order to user them for all entities.</p><p>Now, the DTO's entities.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="userread-dto">UserRead DTO<a href="#userread-dto" class="hash-link" aria-label="Direct link to UserRead DTO" title="Direct link to UserRead DTO">â€‹</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserReadDTO</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">UserReadDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name </span><span class="token operator">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">email </span><span class="token operator">=</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here we implemented DTOEntity interface: </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>in order to have a generic mapping. So all our DTO's will implement this interface.</p><p>!In this entity we excluded the password field.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-user-controller">The User Controller<a href="#the-user-controller" class="hash-link" aria-label="Direct link to The User Controller" title="Direct link to The User Controller">â€‹</a></h3><p>Now, that we have all needed models and helpers, our controller looks in this way:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@RestController</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@RequestMapping</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"api/"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">UserService</span><span class="token plain"> updateService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">UserController</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">UserService</span><span class="token plain"> updateService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">updateService </span><span class="token operator">=</span><span class="token plain"> updateService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@RequestMapping</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"/create"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> method </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">RequestMethod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">POST</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createPost</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@RequestBody</span><span class="token plain"> </span><span class="token class-name">UserCreateDTO</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> updateService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">createUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@RequestMapping</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"/list"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> method </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">RequestMethod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">readUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> updateService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">readUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@RequestMapping</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">value </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"/update"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> method </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">RequestMethod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">PATCH</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">DTOEntity</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">updateUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@RequestBody</span><span class="token plain"> </span><span class="token class-name">UserUpdateDTO</span><span class="token plain"> userUpdateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> updateService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">updateUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userUpdateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="see-also-the-test-cases">See also the test cases:<a href="#see-also-the-test-cases" class="hash-link" aria-label="Direct link to See also the test cases:" title="Direct link to See also the test cases:">â€‹</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">UserDtoUnitTest</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">userEntityToUserDto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Given</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">User</span><span class="token plain"> user </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"user1@example.com"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"user1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"user1Password"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// When</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">UserCreateDTO</span><span class="token plain"> userCreateDTO </span><span class="token operator">=</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">UserCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">DtoUtils</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">convertToDto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">assertEquals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">assertEquals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">assertEquals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">userDtoToUserEntity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Given</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">UserCreateDTO</span><span class="token plain"> userCreateDTO </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">UserCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"user1@example.com"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"user1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">setPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"user1Password"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// When</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">User</span><span class="token plain"> user </span><span class="token operator">=</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">DtoUtils</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">convertToEntity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">assertEquals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getEmail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">assertEquals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">assertEquals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> userCreateDTO</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getPassword</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="user-creation">User creation<a href="#user-creation" class="hash-link" aria-label="Direct link to User creation" title="Direct link to User creation">â€‹</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://localhost:8080/api/create </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-H </span><span class="token string" style="color:rgb(255, 121, 198)">'Cache-Control: no-cache'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-H </span><span class="token string" style="color:rgb(255, 121, 198)">'Content-Type: application/json'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-d </span><span class="token string" style="color:rgb(255, 121, 198)">'{"name":"User number 1","email":"Email number 2", "password": "userPassword"}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="user-update">User update<a href="#user-update" class="hash-link" aria-label="Direct link to User update" title="Direct link to User update">â€‹</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X PATCH </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://localhost:8080/api/update </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-H </span><span class="token string" style="color:rgb(255, 121, 198)">'Cache-Control: no-cache'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-H </span><span class="token string" style="color:rgb(255, 121, 198)">'Content-Type: application/json'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-d </span><span class="token string" style="color:rgb(255, 121, 198)">'{"name":"User number 1","email":"Email number 2", "password": "pass"}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-read">User read<a href="#user-read" class="hash-link" aria-label="Direct link to User read" title="Direct link to User read">â€‹</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X GET </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://localhost:8080/api/list </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-H </span><span class="token string" style="color:rgb(255, 121, 198)">'Cache-Control: no-cache'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-H </span><span class="token string" style="color:rgb(255, 121, 198)">'Content-Type: application/json'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-d </span><span class="token string" style="color:rgb(255, 121, 198)">'{"name":"User number 1","email":"Email number 2", "password": "pass"}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>java</category>
            <category>howto</category>
        </item>
        <item>
            <title><![CDATA[ğŸš€ VPN Personal Ã®n 3 minute]]></title>
            <link>https://hackmajoris.github.io/2018/04/20/vpn-personal-in-3-minute</link>
            <guid>https://hackmajoris.github.io/2018/04/20/vpn-personal-in-3-minute</guid>
            <pubDate>Fri, 20 Apr 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[De ce?]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="de-ce">De ce?<a href="#de-ce" class="hash-link" aria-label="Direct link to De ce?" title="Direct link to De ce?">â€‹</a></h2><p>DacÄƒ ai ajuns sÄƒ cauÈ›i informaÈ›ii despre VPN, cel mai probabil doreÈ™ti sÄƒ Ã®È›i securizezi cÃ¢t de cÃ¢t prezenta ta pe Internet, fie cÄƒ ai motive evidente sau pur È™i simplu eÈ™ti un simplu utilizator de Internet. Oricare ar fi motivul - folosirea unui VPN este de neevitat, vedem imediat de ce.</p><p>De cÃ¢te ori ai folosit o reÈ›ea de Wireless, publicÄƒ, fÄƒrÄƒ nici o micÄƒ bÄƒnuialÄƒ legatÄƒ de riscuri sau consecinÈ›e? </p><p>RÄƒspuns: de fiecare datÄƒ(cel mai probabil).
CÃ¢t de mici sau cÃ¢t de mari pot fi riscurile folosirii unui Wireless public, depinde de acÈ›iunile tale care le-ai fÄƒcut pe Internet, Ã®n timp ce foloseai acea reÈ›ea. Astfel de reÈ›ele sunt cele mai des vulnerabile. Sunt zeci, sau sute de utilizatori care au acces direct la acea reÈ›ea iar cafeneaua, ca proprietar al reÈ›elei, de regulÄƒ, nu este interesatÄƒ de securitate. De aceea, nu Ã®È›i doreÈ™ti sÄƒ te trezeÈ™ti fÄƒrÄƒ bani pe card, Ã®n cazul Ã®n care ai fÄƒcut o cumpÄƒrÄƒturÄƒ online Ã®n timp ce erai conectat la acea reÈ›ea. </p><p>Pe lÃ¢ngÄƒ partea de securitate È™i anonimitate pe Internet, VPN-ul Ã®È›i oferÄƒ acces la site-uri cenzurate pe teritoriul Ã®n care te afli(de exemplu Spotify, pÃ¢nÄƒ acum 2 luni - Romania), access la magazinele de aplicaÈ›ii (AppStore, GooglePlay) din alte regiuni È™i alte posibile facilitÄƒÈ›i de acest gen. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cum">Cum?<a href="#cum" class="hash-link" aria-label="Direct link to Cum?" title="Direct link to Cum?">â€‹</a></h2><p>ExistÄƒ zeci de aplicaÈ›ii care oferÄƒ servicii VPN pentru mobile cÃ¢t È™i pentru alte platforme. Cele mai evidente probleme pe care le oferÄƒ sunt: preÈ›ul, anonimitatea, lipsa controlului asupra propriului trafic. Singurul serviciu de acest gen, Ã®n care am Ã®ncredere este <a href="https://www.tunnelbear.com/pricing" target="_blank" rel="noopener noreferrer">TunellBear</a>.  Sugerez sÄƒ-l folosiÈ›i Ã®n cazul Ã®n care aveÈ›i nevoie de un VPN È™i nu vÄƒ aranjezÄƒ soluÈ›ia propusÄƒ mai jos. Acest serviciu oferÄƒ 500MB gratis, lunar, iar pentru un trafic nelimitat - preÈ›ul este de 10 USD. Mai jost o sÄƒ vedem cum putem obÈ›ine aÈ™a ceva cu resurse mai puÈ›ine.</p><p>! SoluÈ›ia de mai jos este pentru utilizatorii de rÃ¢nd. Nu necesitÄƒ cunoÈ™tinÈ›e Ã®n nici un domeniu. NecesitÄƒ doar dorinÈ›a de a te proteja atunci cÃ¢nd foloseÈ™ti Internet.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="de-ce-avem-nevoie">De ce avem nevoie:<a href="#de-ce-avem-nevoie" class="hash-link" aria-label="Direct link to De ce avem nevoie:" title="Direct link to De ce avem nevoie:">â€‹</a></h3><ul><li>Un cont pe <a href="https://www.digitalocean.com" target="_blank" rel="noopener noreferrer">DigitalOcean</a></li><li>SÄƒ pornim un Droplet pe <a href="https://www.digitalocean.com" target="_blank" rel="noopener noreferrer">DigitalOcean</a></li><li>SÄƒ configurÄƒm VPN-ul pe acel Droplet.</li><li>SÄƒ configurÄƒm device-urile pentru a folosi acel VPN.</li></ul><p>SÄƒ Ã®ncepem.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creare-cont-pe-digitalocean">Creare cont pe DigitalOcean.<a href="#creare-cont-pe-digitalocean" class="hash-link" aria-label="Direct link to Creare cont pe DigitalOcean." title="Direct link to Creare cont pe DigitalOcean.">â€‹</a></h3><p>Cel mai basic Droplet pe DigitalOcean - ne costÄƒ 5 USD/lunÄƒ. Acesta are:</p><ul><li>Memorie RAM: 1GB</li><li>Disk: 25GB SSD</li><li>Transfer: 1TB</li><li>CPU: 1 Core</li></ul><p>Ce ne intereseazÄƒ aici este capacitatea de transfer - 1 TB / lunÄƒ este de cele mai multe ori Ã®ndeajuns pentru un utilizator mediu. </p><p>Pentru a primi 10 USD credit la Ã®nregistrare, da-È›i click <a href="https://m.do.co/c/6f4b7837cd02" target="_blank" rel="noopener noreferrer">aici</a>. Acesta vÄƒ va oferi 2 luni de acces gratuit, Ã®n cazul Ã®n care nu aveÈ›i Ã®ncÄƒ cont.</p><p>Mai departe.... </p><ol><li><p>ApÄƒsÄƒm butonul - Create
<img loading="lazy" src="https://www.dropbox.com/s/89pf6jpt80qegem/1.png?raw=1" class="img_ev3q"></p></li><li><p>Alegem creare Droplet nou
<img loading="lazy" src="https://www.dropbox.com/s/1s8oxsfx5iaq1ck/2.png?raw=1" class="img_ev3q"></p></li><li><p>SelectÄƒm One-click apps
<img loading="lazy" src="https://www.dropbox.com/s/tuz4apyy2dnum62/3.png?raw=1" class="img_ev3q"></p></li><li><p>SelectÄƒm tipul
<img loading="lazy" src="https://www.dropbox.com/s/83ul7cctr7bjcw8/4.png?raw=1" class="img_ev3q"></p></li><li><p>SelectÄƒm resursele
<img loading="lazy" src="https://www.dropbox.com/s/wxxc48xm0itv55z/5.png?raw=1" class="img_ev3q"></p></li><li><p>SelectÄƒm locaÈ›ia<br>
<img loading="lazy" src="https://www.dropbox.com/s/q9jkwo36osl2jze/6.png?raw=1" class="img_ev3q"></p></li><li><p>DÄƒm un nume la host
<img loading="lazy" src="https://www.dropbox.com/s/xjoeztg9lf2gip4/7.png?raw=1" class="img_ev3q"></p></li><li><p>AccesÄƒm consola
<img loading="lazy" src="https://www.dropbox.com/s/o72r5v9dwxyb5nl/8.png?raw=1" class="img_ev3q"></p></li><li><p>DupÄƒ ce am schimbat parola de accesare a Droplet-ului, scrim  urmÄƒtoarea comandÄƒ:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CID</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">docker</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> run -d --restart</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">always --privileged -p </span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">1194</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">:1194/udp -p </span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">443</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">:443/tcp jpetazzo/dockvpn</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Va trebui sÄƒ aÈ™teptaÈ›i pentru a se descÄƒrca toate dependenÈ›ele.</p></li></ol><p>Consola o sÄƒ arate undeva aÈ™a:
<img loading="lazy" src="https://www.dropbox.com/s/ftl6co5y5wjg3rx/9.png?raw=1" class="img_ev3q"></p><ol start="10"><li><p>DupÄƒ, scriem Ã®n consolÄƒ comanda</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run -t -i -p </span><span class="token number">8080</span><span class="token plain">:8080 --volumes-from </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$CID</span><span class="token plain"> jpetazzo/dockvpn serveconfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>DupÄƒ executare, Ã®n consolÄƒ vom vedea o adresÄƒ, de genul: 0.0.0.0:8080 (La fiecare va fi diferitÄƒ)</p></li><li><p>Mergem Ã®n Browser, È™i accesÄƒm acea adresÄƒ.</p></li></ol><p>AccesÃ¢nd resursa, Ã®n mod normal, Browserul se va plÃ¢nge din cauza securitÄƒÈ›ii. IgnorÄƒm acea plÃ¢ngere - descarcam fisierul.</p><p><img loading="lazy" src="https://www.dropbox.com/s/vsxw4ur59qsqe90/10.png?raw=1" class="img_ev3q">
<img loading="lazy" src="https://www.dropbox.com/s/nokabrhe7q0sjh9/11.png?raw=1" class="img_ev3q"></p><p>DupÄƒ descÄƒrcare, redenumim fiÈ™ierul Ã®n aÈ™a fel Ã®ncÃ¢t acesta sÄƒ aibÄƒ extensia .ovpn
<img loading="lazy" src="https://www.dropbox.com/s/4p1xny119pbs5je/12.png?raw=1" class="img_ev3q"></p><ol start="12"><li><p>DescÄƒrcÄƒm aplicaÈ›ia-client pentru platforma pe care o folosim. Sunt diferite aplicaÈ›ii de genul VPN-client prin care ne-am putea conecta la serverul de VPN creat mai sus. Vom folosi <a href="https://openvpn.net/index.php/open-source/downloads.html" target="_blank" rel="noopener noreferrer">OpenVPN</a>. Simplu de folosit È™i are È™i suport pentru toate platformele. Mai jos, o sÄƒ vedem cum putem configura clientul pe macOS È™i iOS. Pe Windows, Linux, Android, etc - e aceeaÈ™i procedurÄƒ.</p></li><li><p><a href="https://openvpn.net/index.php/open-source/downloads.html" target="_blank" rel="noopener noreferrer">DescÄƒrcÄƒm</a> clientul dacÄƒ nu am fÄƒcut-o È™i Ã®i dÄƒm fiÈ™ierul de .ovpn descÄƒrcat anterior, dupÄƒ care ne conectÄƒm.
<img loading="lazy" src="https://www.dropbox.com/s/yeoivmd8ldxdtki/13.png?raw=1" class="img_ev3q"></p></li><li><p>DupÄƒ o conexiune reuÈ™itÄƒ, navigÄƒm pe <a href="https://whatismyipaddress.com" target="_blank" rel="noopener noreferrer">whatismyipaddress.com</a> È™i convingem cÄƒ VPN-ul Ã®È™i face treaba. ğŸ˜Š</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configurare-vpn-client---ios">Configurare VPN client - iOS<a href="#configurare-vpn-client---ios" class="hash-link" aria-label="Direct link to Configurare VPN client - iOS" title="Direct link to Configurare VPN client - iOS">â€‹</a></h3><ul><li>InstalÄƒm <a href="https://itunes.apple.com/us/app/openvpn-connect/id590379981?mt=8" target="_blank" rel="noopener noreferrer">OpenVPN Connect</a></li><li>Deschidem aplicaÈ›ia, È™i introducem acelaÈ™i adresÄƒ de IP:
<img loading="lazy" src="https://www.dropbox.com/s/wjb0akzuha2t3id/14.png?raw=1" class="img_ev3q"></li><li>Deschidem fiÈ™ierul cu applicaÈ›ia OpenVPN
<img loading="lazy" src="https://www.dropbox.com/s/gwqfmzj8j3sz6x6/15.jpg?raw=1" class="img_ev3q"></li><li>InstalÄƒm certificatul
<img loading="lazy" src="https://www.dropbox.com/s/0knsibq6cajhsfc/16.jpg?raw=1" class="img_ev3q"></li><li>Ne conectÄƒm
<img loading="lazy" src="https://www.dropbox.com/s/z5ckietmjora1pg/17.jpg?raw=1" class="img_ev3q"></li><li>VerificÄƒm pe <a href="https://whatismyipaddress.com" target="_blank" rel="noopener noreferrer">whatismyipaddress.com</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="important">Important<a href="#important" class="hash-link" aria-label="Direct link to Important" title="Direct link to Important">â€‹</a></h2><p>DupÄƒ ce am configurat toate device-urile, ne Ã®ntoarcem la consola Dropletului de pe DigitalOcean, È™i dÄƒm un Ctrl/Cmd+c pentru a opri ultimul container pornit, Ã®n aÈ™a fel, nimeni nu va mai putea descÄƒrca fiÈ™ierul(.ovpn) descÄƒrcat mai sus dacÄƒ va accesa IP-ul Droplet-ului. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cat-te-costÄƒ">Cat te costÄƒ?<a href="#cat-te-costÄƒ" class="hash-link" aria-label="Direct link to Cat te costÄƒ?" title="Direct link to Cat te costÄƒ?">â€‹</a></h2><p>SoluÈ›ia datÄƒ poate fi hostatÄƒ È™i pe un server local, dacÄƒ acesta existÄƒ. DacÄƒ nu - metoda descrisÄƒ mai sus te va costa 5 USD/lunÄƒ(nu uita - primele 2 luni le ai gratuit dacÄƒ te-ai Ã®nregistrat folosind link-ul menÈ›ionat mai sus).  </p><p>Cam asta este tot, </p><p>May the security be with you. ğŸ˜‹</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ğŸš€ Despre Lightning Network]]></title>
            <link>https://hackmajoris.github.io/2018/01/29/despre-lightning-network</link>
            <guid>https://hackmajoris.github.io/2018/01/29/despre-lightning-network</guid>
            <pubDate>Mon, 29 Jan 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[Articol tradus. Sursa originalÄƒ]]></description>
            <content:encoded><![CDATA[<p>Articol tradus. Sursa <a href="https://medium.com/@x0100/%EF%B8%8Flightning-network-7c618c9cd68" target="_blank" rel="noopener noreferrer">originalÄƒ</a></p><p>Lighting Network = LN</p><p>Ãn partea 0 vom vedea, de ce este nevoie de aÈ™a ceva.
Ãn partea 1 vom explica cum se desfÄƒÈ™oarÄƒ toate plÄƒÈ›ile Ã®n reÈ›eaua Bitcoin, Lightning Network È™i problemele care se regÄƒsesc. Ãn partea 2 vom introduce componentele de bazÄƒ din care e construit LN. Ãn partea 3, Ã®n sfÃ¢rÈ™it vom descrie Ã®n detaliu cum sunt procesate plÄƒÈ›ile Ã®n protocolul LN. Ãn a 4 parte, Ã®n mod rapid vom vorbi despre criticile care se regÄƒsesc È™i comisionale existente. Ãn partea 5, vom face un mic sumar.</p><p>!Ãn mod conÈ™tient renunÈ›/simplific unele momente tehnice. ÃncÄƒ nu sunt expert È™i pot sÄƒ mÄƒ Ã®nÈ™el Ã®n unele afirmÄƒri.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="0-de-ce">0. De ce?<a href="#0-de-ce" class="hash-link" aria-label="Direct link to 0. De ce?" title="Direct link to 0. De ce?">â€‹</a></h2><p><strong>Bitcoin Blockchain</strong> - are la bazÄƒ o bazÄƒ date descentralizatÄƒ, Ã®n care se salveazÄƒ toate tranzacÈ›iile din reÈ›eaua Bitcoin. PÃ¢na aici, â€toate tranzacÈ›iileâ€ este o parte destul de fundamentalÄƒ la acest protocol. Ca Ã®ntreg sistem sÄƒ fie Ã®ntradevÄƒr descentralizat, È™i totodatÄƒ funcÈ›ioneze fÄƒrÄƒ vreo oarecare eroare, trebuie, ca toate miile de noduri din reÈ›ea sÄƒ re-verifice È™i sÄƒ salveze toate tranzacÈ›iile. Acest lucru, Ã®n mod clar, nu duce la o scalare: Blockchain ocupÄƒ zeci de Gigabytes pe disk, minerii folosesc mai mult curent decÃ¢t are nevoie unele È›Äƒri, blocurile sunt suprasolicitate, comisioanele cresc, oamenii Ã®njurÄƒ È™i fac fork la Bitcoin. Din aceaste cauze, la moment, Ã®n mod activ se construiesc soluÈ›ii alternative. Una dintre aceste soluÈ›ii este Lightning Network.</p><blockquote><p lang="en" dir="ltr">Q: When will the Lightning Network be rolled out? A: The rollout has already begun. This is an iterative distributed learning process; it's unlikely there will be a single point in time at which we say LN is "deployed" because it will grow organically. Software is never finished.</p>â€” Jameson Lopp (@lopp) <a href="https://twitter.com/lopp/status/947808940255006726?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">January 1, 2018</a></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ideea">1. Ideea<a href="#1-ideea" class="hash-link" aria-label="Direct link to 1. Ideea" title="Direct link to 1. Ideea">â€‹</a></h3><p>Idea de soluÈ›ionare a problemei de la nivelului doi (second layer solution), la care se referÄƒ LN, sunÄƒ foarte simplu:</p><blockquote>Ãn loc sÄƒ se salveze È™i sÄƒ se verifice toate tranzacÈ›iile Ã®n Blokchain, vom realiza o mare parte din plÄƒÈ›i Ã®n afara reÈ›elei Blockchain, iar Ã®n Blockchain vom sincroniza din timp Ã®n timp balanÈ›ele È™i vom rezolva conflictele. De funÈ›ionat toate acestea vor funcÈ›iona, ca deobicei cu ajutorul criptomagiei.</blockquote><p>SunÄƒ bine, Ã®nsÄƒ nu È™tim cum toate acestea funcÈ›ioneazÄƒ.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-canalul-de-platÄƒ">1.1. Canalul de platÄƒ<a href="#11-canalul-de-platÄƒ" class="hash-link" aria-label="Direct link to 1.1. Canalul de platÄƒ" title="Direct link to 1.1. Canalul de platÄƒ">â€‹</a></h3><p>SÄƒ Ã®ncepem prin a simplifica viaÈ›a a douÄƒ persoane, Alisa È™i Bob, care foarte des se plÄƒtesc Ã®ntre ei. Se oferÄƒ urmÄƒtoarea schema:</p><ol><li>Alisa È™i Bob trimit depozituri la adresa o adresÄƒ comunÄƒ care se administreazÄƒ cu ajutorul a douÄƒ chei private.</li><li>Fiecare din ei, creazÄƒ o tranzacÈ›ie specialÄƒ - Smart Contract(da, Bitcoin dispune de Smart-Contracts, despre asta Ã®n partea urmÄƒtoare). AceastÄƒ tranzacÈ›ie este corectÄƒ, dar Ã®ncÄƒ nu este scrisÄƒ Ã®n Blochain.</li><li>De la Ã®nceput, tranzacÈ›ia conÈ›ine informaÈ›ie conform cÄƒreia, Alisa È™i Bob pot lua Ã®napoi depozitele lor.</li><li>Cand Alisa se achitÄƒ cu Bob, printr-o Ã®nÈ›elegere comunÄƒ -updateazÄƒ informaÈ›ia din aceste tranzacÈ›ii. Alisa acceptÄƒ sÄƒ primeascÄƒ mai puÈ›inÄƒ valoare din propriul depozit, iar Bob - mai multÄƒ. Defapt, aceste tranzacÈ›ii reprezintÄƒ niste obligaÈ›iuni(IOU, I owe you)</li><li>Ãn aÈ™a mod, ei pot schimba Ã®ntre ei sume nu foarte mari(Ã®n limitele depozitelor lor), mÄƒcar pÃ¢nÄƒ la nesfÃ¢rÈ™it.</li><li>La un anumit moment, oricare din pÄƒrÈ›i, poate sÄƒ cearÄƒ sÄƒ se achite pentru totdeauna. Atunci Lisa(sau Bob) pur È™i simplu Ã®nscriu tranzacÈ›ia finalÄƒ Ã®n Blockchain-ul principal È™i primesc suma depozitului Ã®mpreunÄƒ cu suma provenitÄƒ din plÄƒÈ›ile care au fost fÄƒcute cÄƒtre acest depozit. </li></ol><p>Punctele 1-3 din aceastÄƒ schemÄƒ se numesc deschiderea canalului de plÄƒtÄƒ/plÄƒÈ›i(payment channel). Punctele 4 È™i 5 - folosirea canalului. Punctul 6 - Ã®nchiderea canalului de platÄƒ/plÄƒÈ›i.</p><blockquote>ğŸ‘ Ãn blockchain se Ã®nscriu doar douÄƒ tranzacÈ›ii: tranzacÈ›ia de depozitare, Ã®n care are loc deschiderea canalului de platÄƒ È™i tranzacÈ›ia finalÄƒ(Ã®nchiderea canalului). Toate tranzacÈ›iile interemediare dintre aceste douÄƒ tranzacÈ›ii nu se folosesc de Blockchain È™i nu sunt salvate Ã®n acesta, de aceea acestea sunt fÄƒcute fÄƒrÄƒ nici un cost(comision) È™i sunt momentane.</blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-reÈ›eaua-de-canale-de-platÄƒ">1.2. ReÈ›eaua de canale de platÄƒ<a href="#12-reÈ›eaua-de-canale-de-platÄƒ" class="hash-link" aria-label="Direct link to 1.2. ReÈ›eaua de canale de platÄƒ" title="Direct link to 1.2. ReÈ›eaua de canale de platÄƒ">â€‹</a></h3><p>Canalele de plÄƒÈ›i Ã®ntre douÄƒ persoane - nu este ceva foarte util. La urma urmei, cu marea majoritate a oamenilor noi nu facem tranzacÈ›ii regulare. Dar...</p><blockquote>ğŸ’¡ Cand canalele de platÄƒ formeazÄƒ o reÈ›ea, se iveÈ™te posibilitatea de a face plÄƒÈ›i Ã®ntre fiecare utilizator al reÈ›elei, cÄƒtre care existÄƒ o legÄƒturÄƒ Ã®n graful acestei reÈ›ele(chiar dacÄƒ ei nu au legÄƒturÄƒ directÄƒ unul cu altul). Aceasta È™i este ideea de bazÄƒ a Lighting Network.</blockquote><p>AÈ™a aratÄƒ graful canalelor de platÄƒ, Ã®n momentul 22.01.2018: (<a href="https://lnmainnet.gaben.win" target="_blank" rel="noopener noreferrer">https://lnmainnet.gaben.win</a>).
<img loading="lazy" src="https://cdn-images-1.medium.com/max/1600/1*vYgP4rEOttWssox5l-LGig.png" class="img_ev3q"></p><p>Ãn principiu, analog protocolului TCP, unui om simplu Ã®i este Ã®ndeajuns sÄƒ aibÄƒ doar un singur canal deschis, ca acesta sÄƒ poatÄƒ sÄƒ utilizeze tranzacÈ›ii cu oricine. Desigur, este nevoie sÄƒ se caute È™i segmentul cel mai optim Ã®ntre doi utilizatori, È™i mai trebuie cumva sÄƒ se motiveze participanÈ›ii reÈ›elei ca aceÈ™tia sÄƒ verifice tranzacÈ›iile strÄƒine. Dar, sa Ã®ncepem cu problema de bazÄƒ: problema Ã®ncrederii.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-problema-Ã®ncrederii">1.3. Problema Ã®ncrederii<a href="#13-problema-Ã®ncrederii" class="hash-link" aria-label="Direct link to 1.3. Problema Ã®ncrederii" title="Direct link to 1.3. Problema Ã®ncrederii">â€‹</a></h3><p>Cum se Ã®ntÃ¢mplÄƒ des Ã®n criptografie, sistema canalelor de platÄƒ este foarte simplu de imaginat, dacÄƒ toate parÈ›ile au Ã®ncredere Ã®ntre ele. Nu este nevoie sÄƒ Ã®ngrÄƒdim grÄƒdina cu depozite, chei private, tranzacÈ›ii speciale. Se poate simplu de scris doar cui È™i cu cÃ¢t este cineva dator.
UrmÄƒtorul lucru de Ã®nÈ›eles: cum putem realiza un canal de plÄƒÈ›i fÄƒrÄƒ a avea Ã®ncredere Ã®ntre parÈ›i?
Problemele de bazÄƒ for fi trei.</p><ol><li>Ambele depozite, ale Alisei È™i Bob se aflÄƒ Ã®ntrun portofel virtual comun. DacÄƒ Bob nu va fi deacord sÄƒ semneze tranzacÈ›ia, cum Alisa Ã®È™i va Ã®ntoarce depozitul ei?</li><li>Ãn procesul de calculare, sunt create multiple versiuni ale oblicaÈ›iunilor. SÄƒ presupunem cÄƒ, practic, Alisa Ã®l plÄƒteÈ™te pe Bob. Atunci, Ã®n versiunea finalÄƒ a tranzacÈ›iei, Bob va primi un depozit mai mare decÃ¢t depozitul lui iniÈ›ial iar Alisa - mai puÈ›in. Dar Alisa poate Ã®nÈ™ela È™i poate Ã®nscrie singurÄƒ Ã®n Blockchain prima versiune validÄƒ a tranzacÈ›iei, ca È™i cum Bob niciodatÄƒ nu a primit bani. Cu ce va rÄƒmÃ¢ne Bob?</li><li>DacÄƒ Alisa È™i Bob, transferÄƒ banii prin reÈ›ea folosind o a treia persoanÄƒ - Victor, atunci cum ei pot fi siguri cÄƒ Victor Ã®ntradevÄƒr va transmite banii È™i nu Ã®i va lua lui?</li></ol><p>SÄƒ numim aceste probleme corespunzÄƒtor: </p><ul><li>problema depozitului comun</li><li>problema ultimei tranzacÈ›ii</li><li>problema persoanei terÈ›e</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-smart-contractszaqwa-p0o9azza">2. Smart-contractsz<code>~~aqwa</code>=-[p0o9az`~ZA;./"|<a href="#2-smart-contractszaqwa-p0o9azza" class="hash-link" aria-label="Direct link to 2-smart-contractszaqwa-p0o9azza" title="Direct link to 2-smart-contractszaqwa-p0o9azza">â€‹</a></h2><blockquote><p>â‰¤
Bitcoin are suport pentru un limbaj simplu al smart-contractelor - Script. Ãn fiecare tranzacÈ›ie Bitcoin existÄƒ un cÃ¢mp special, care conÈ›ine un script scris Ã®n acest limbaj. Acest script verificÄƒ, dupÄƒ aplicarea a cÄƒror reguli, ieÈ™irea tranzacÈ›iei poate fi folositÄƒ.
â€Folosirea ieÈ™irei tranzacÈ›iei Aâ€ - este un mod mult mai corect tehnic spus â€folosirea banilor din adresa/portofelul K, unde aceÈ™tia au fost depuÈ™i cu ajutorul tranzacÈ›iei Aâ€</p></blockquote><blockquote>â˜ Ãn comparaÈ›ie, de exemplu, cu Ethereum, posibilitÄƒÈ›ile smart-contractelor Bitcoin sunt cu mult mai limitate. Este legat acest lucru de Script, È™i anume cÄƒ acesta nu este destul pentru Turing. De exemplu, Ã®n acesta nu se poate folosi cicluri/recursivitate È™i nu se poate crea variabile(lipsa memoriei).</blockquote><p>SÄƒ vedem cele mai importante operaÈ›ii ale acestui limbaj.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-autorizaÈ›ia">2.1 AutorizaÈ›ia<a href="#21-autorizaÈ›ia" class="hash-link" aria-label="Direct link to 2.1 AutorizaÈ›ia" title="Direct link to 2.1 AutorizaÈ›ia">â€‹</a></h3><p>Probail, partea cea mai standard a oricÄƒrei tranzacÈ›ii - este verificarea semnÄƒturii. SÄƒ presupunem cÄƒ tranzacÈ›ia A, transferÄƒ resurse la o oarecare adresÄƒ K. Ca sÄƒ fie cheltuite resursele din K, trebuie sÄƒ se demonstreze deÈ›inerea cheii(cheia privatÄƒ). De acest lucru rÄƒspunde operaÈ›ia <strong>OP_CheckSig</strong>. Dar, dupÄƒ dorinÈ›Äƒ, se poate verifica È™i ceva adaugÄƒtor. De exemplu, se poate verifica, cÄƒ persoana deÈ›ine un numÄƒr secret, iar hash-ul este egal cu acel numÄƒr. Pentru aceasta, este nevoie de douÄƒ operaÈ›iuni: <strong>OP_SHA256</strong>(citeÈ™te hash-ul) È™i <strong>OP_EqualVerify</strong>(verificÄƒ egalitatea). De ce avem nevoie de toate acestea, va fi clar Ã®n partea 4.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-cooperarea">2.2. Cooperarea<a href="#22-cooperarea" class="hash-link" aria-label="Direct link to 2.2. Cooperarea" title="Direct link to 2.2. Cooperarea">â€‹</a></h3><p>Un alt exemplu simplu de smart-contract la Bitcoin se bazeazÄƒ pe operaÈ›ia <strong>OP_CheckMultiSig</strong>. Aceasta permite sÄƒ se foloseascÄƒ resursele doar prin semnarea cÃ¢torva chei predefinite. Pe acest principiu funÈ›ioneazÄƒ aÈ™a spusele â€multiple signature walletsâ€. La fel ca È™i celula unei bÄƒnci, care este Ã®ncuiatÄƒ cu douÄƒ chei, una aflÃ¢ndu-se la angajatorul bÄƒncii iar alta la client.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-perioadele">2.3. Perioadele<a href="#23-perioadele" class="hash-link" aria-label="Direct link to 2.3. Perioadele" title="Direct link to 2.3. Perioadele">â€‹</a></h3><p>Bitcoin are suport È™i pentru operaÈ›ia <strong>OP_CheckSequesnceVerify</strong>, care permite folosirea resurselor doar peste un numÄƒr fix de blocuri. De exemplu, aceasta permite educarea oamenilor, care nu pot salva resursele. Blockchain este mai eficient decÃ¢t oricare cont de economii: dacÄƒ utilizatorul a decis sÄƒ Ã®ngheÈ›e suma acumulatÄƒ pe o anumitÄƒ perioadÄƒ, aceastÄƒ sumÄƒ va fi Ã®ngheÈ›atÄƒ garantat. Dar, pe lÃ¢ngÄƒ acest scenariu, <strong>OP_CheckSequenceVerify</strong>, È™i alte componente, Ã®n mod activ se folosesc pentru realizarea canalelor de plÄƒÈ›i.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-realizarea-canalului">3. Realizarea canalului<a href="#3-realizarea-canalului" class="hash-link" aria-label="Direct link to 3. Realizarea canalului" title="Direct link to 3. Realizarea canalului">â€‹</a></h2><p>Acum, cÃ¢nd toate blocurile de control sunt la locul lor, se poate descrie unele detalii ale funcÈ›ionÄƒrii canalului de platÄƒ.  Defapt, unele imaginÄƒri ale canalului de plÄƒÈ›i, au fost descrise Ã®ncÄƒ de Satoshi. Eu ma voi axa mai mult pe specificaÈ›ia, care se numeÈ™te Poon-Dryja payment channels(dupÄƒ pÄƒrerea autorilor principali Lightning Network).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-deschiderea-canalului">3.1. Deschiderea canalului<a href="#31-deschiderea-canalului" class="hash-link" aria-label="Direct link to 3.1. Deschiderea canalului" title="Direct link to 3.1. Deschiderea canalului">â€‹</a></h3><ol><li>Alisa È™i Bob creazÄƒ tranzacÈ›ii, care depun resursele Ã®ntr-o adresÄƒ de depozit comun. SÄƒ presupunem cÄƒ X bitcoins se transferÄƒ din portofelul Alisei, È™i Y - din portofelul lui Bob. Resursele din depozitul comun pot fi folosite doar prin semnarea Ã®mpreunÄƒ a cheilor private ale Alisei È™i Bob. (OP_CheckMultiSig). </li><li>Primul truc, se evidenÈ›iazÄƒ prin aceea cÄƒ ei Ã®ncÄƒ NU semneazÄƒ È™i NU transmit tranzacÈ›ia Ã®n Blockchain(dealtfel, Bob o poate minÈ›i pe Lisa È™i poate sÄƒ-i Ã®ngheÈ›e rezursele pe veÈ™nicie).)</li><li>Ãn loc de acestea, Alisa È™i Bob creazÄƒ douÄƒ noi tranzacÈ›ii de retur a depozitului initial. Intrarea acestor tranzacÈ›ii sunt resursele din depozitul comun(ieÈ™irea tranzacÈ›iei 0). IeÈ™iri ale tranzacÈ›iilor sunt douÄƒ: X se duce Ã®napoi la adresa Alisei, Y - la adresa lui Bob. Ãn realitate, toate acestea sunt un pic mai dificile, dar despre asta, un pic mai tÃ¢rziu.</li><li>Mai departe, Bob, semneazÄƒ tranzacÈ›ia A1 È™i o transmite cÄƒtre Alisa. Alisa semneazÄƒ tranzacÈ›ia B1 È™i o trimite lui Bob.</li><li>Ãn acest moment, tranzacÈ›ia de depunere a depozitului, se poate Ã®nscrie Ã®n Blockchain, nimeni nu minte. DacÄƒ Bob va fi deacord sÄƒ coopereze, Alisa oricÃ¢nd poate semna tranzacÈ›ia A1, sÄƒ o Ã®nscrie Ã®n Blockchain È™i sÄƒ obÈ›inÄƒ depozitul acesteia Ã®napoi.</li></ol><p>Ãn acest moment â€problema depozitului comunâ€ este rezolvatÄƒ. Deschiderea canalului de platÄƒ poate ave loc fÄƒrÄƒ a avea Ã®ncredere Ã®n cealaltÄƒ persoanÄƒ.</p><blockquote>â˜ Un fapt interesant. ÃncÄƒ cu jumÄƒtate de an Ã®n urmÄƒ(Ã®nainte de a se introduce SegWit) semnarea tranzacÈ›iilor neconfirmate(punctul 4) avea loc mult mai greu, din cauza problemei maleabilitatÄƒÈ›ii(transaction malleability)</blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-folosirea-canalului">3.2 Folosirea canalului<a href="#32-folosirea-canalului" class="hash-link" aria-label="Direct link to 3.2 Folosirea canalului" title="Direct link to 3.2 Folosirea canalului">â€‹</a></h3><p>PlÄƒÈ›ile din interiourul canalului se realizeazÄƒ defapt prin re-rescrierea tranzacÈ›iei A1 È™i B1 Ã®n noi tranzacÈ›ii.</p><ol><li>Alisa Ã®l plÄƒteÈ™te pe Bob pentru o cafea, care costÄƒ C.</li><li>Tot Alisa, este deacord cÄƒ, la Ã®nchiderea canalului de platÄƒ ea va lua Ã®napoi, nu suma depusa la Ã®nceput X, ci X' = (X - C).</li><li>Iar Bob: Y' = (Y + C).</li></ol><p>Deasemenea, noile tranzacÈ›ii A2 È™i B2 vor arÄƒta la fel ca A1 È™i B1, doar cÄƒ cu sume noi. Fiecare din pÄƒrÈ›i, poate Ã®n orice moment sÄƒ Ã®nchidÄƒ canalul de platÄƒ, scriind ultima versiune a tranzacÈ›iei Ã®n Blockchain.</p><p>Cum ne asigurÄƒm cÄƒ Alisa nu va scrie Ã®n Blockchain tranzacÈ›ia A1  Ã®n loc de tranzacÈ›ia A2? Pentru aceasta, exista Ã®ncÄƒ un truc.</p><ol><li>De fiecare datÄƒ cÃ¢nd Alisa È™i Bob creazÄƒ noi tranzacÈ›ii, ei aleg o cheie privatÄƒ de unicÄƒ folosinÈ›Äƒ, de care au nevoie ca sÄƒ poatÄƒ lua depozitul Ã®napoi(OP_CheckSig).</li><li>La fiecare platÄƒ i, Alisa Ã®i va arÄƒta lui Bob cheia privatÄƒ precedentÄƒ AK(i-1), È™i va crea o nouÄƒ cheie AKi pentru noua tranzacÈ›ie. Bob nu va accepta plata fÄƒra cheia anterioarÄƒ.</li><li>DacÄƒ Bob È™tie cheia, atunci acesta poate cheltui toÈ›i banii Alisei, doar dacÄƒ Alisa va decide sÄƒ Ã®nscrie tranzacÈ›ia greÈ™itÄƒ Ã®n Blockchain.</li><li>Ãn aÈ™a fel, Alisa Ã®ntodeauna este interesatÄƒ de a Ã®nscrie Ã®n Blockchain tranzacÈ›ia corectÄƒ, adicÄƒ utlima.</li></ol><p><em>Modificare minorÄƒ</em>
Pentru ca Bob sÄƒ aibÄƒ posibilitatea sÄƒ dispute tranzacÈ›ia cu Alisa È™i sÄƒ obÈ›inÄƒ cheia acesteia, Bob are nevoie de timp. De aceea, Alisa, va obÈ›ine depozitul ei nu Ã®n acelaÈ™i timp, dar dupÄƒ cÃ¢teva blocuri T(OP_CheckSequenceVerify). De exemplu, peste 48 blocuri, adicÄƒ peste 8 ore.</p><p>DacÄƒ Alisa semneazÄƒ una din tranzacÈ›iile ei(ele sunt semnate deja de Bob), È™i transmite aceastÄƒ tranzacÈ›ie Ã®n Blockchain, atunci pot avea loc douÄƒ scenarii.</p><ol><li>Alisa emite tranzacÈ›ia finalÄƒ =&gt; Bob nu cunoaÈ™te utlima cheie a Alisei Aki. Aceasta este o Ã®nchidere corectÄƒ a canalului, toÈ›i trebuie sÄƒ primeascÄƒ banii lor Ã®napoi. Alisa Ã®i va primi peste ceva timp.</li><li>Alisa Ã®ncearcÄƒ sÄƒ semneze tranzacÈ›ia veche Ã®n loc de cea nouÄƒ, finalÄƒ =&gt; Alisa Ã®ncearcÄƒ sÄƒ-l mintÄƒ pe Bob. Ãn acest caz, Bob cunoaÈ™te cheia lui Alisa È™i acesta poate sÄƒ o foloseascÄƒ pentru a primi toatÄƒ suma Alisei. Este clar cÄƒ, Alisa nu este interesatÄƒ Ã®n acest scenariu.</li></ol><p>AÈ™adar, â€problema ultimei tranzacÈ›iiâ€ este la fel - rezolvatÄƒ È™i canalul de comunicare Ã®ntre douÄƒ persoane este Ã®n regulÄƒ. Acum, deasemenea, devin evidente cÃ¢teva avantaje È™i neajunsuri.</p><p>ğŸ‘ <strong>Avanteje:</strong></p><ol><li>PlÄƒÈ›ile din interiorul canalului sunt instante È™i gratis, ele nu duc la solicitarea Blockchain-ului principal. </li><li>PÄƒrÈ›ile nu sunt obligate sÄƒ aibÄƒ Ã®ncredere una Ã®n alta.</li></ol><p>ğŸ‘ <strong>Neajunsuri</strong></p><ol><li>Depozitele sunt blocate pe toatÄƒ perioada existenÈ›ii canalului.</li><li>Fiecare dintre pÄƒrÈ›i, trebuie periodic sÄƒ se iveascÄƒ online(cel puÈ›in o datÄƒ-n T)</li></ol><p>ğŸ‘Œ Ãn realitate, ambele neajunsuri sunt necesare pentru canalele de plÄƒÈ›i Ã®ntre douÄƒ persoane, dar nu prea sunt importante pentru LN. Primul neajuns Ã®nceteazÄƒ sÄƒ mai fie neajuns dacÄƒ un canal de plÄƒÈ›i poate fi folosit pentru tranzacÈ›ii cu alte persoane.
Al doilea neajuns lipseÈ™te Ã®n LN, aÈ™a cum verificarea corectitudinei poate fi fÄƒcutÄƒ de oricare utilizator al reÈ›elei( dacÄƒ Vasile va observa È›eapa Alisei, atunci acesta va Ã®mpÄƒrÈ›i cu Bob valoarea confiscatÄƒ.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-lightning-network">4. Lightning Network<a href="#4-lightning-network" class="hash-link" aria-label="Direct link to 4. Lightning Network" title="Direct link to 4. Lightning Network">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-canalul-de-plÄƒÈ›i-printr-o-persoanÄƒ-terÈ›Äƒ">4.1. Canalul de plÄƒÈ›i printr-o persoanÄƒ terÈ›Äƒ<a href="#41-canalul-de-plÄƒÈ›i-printr-o-persoanÄƒ-terÈ›Äƒ" class="hash-link" aria-label="Direct link to 4.1. Canalul de plÄƒÈ›i printr-o persoanÄƒ terÈ›Äƒ" title="Direct link to 4.1. Canalul de plÄƒÈ›i printr-o persoanÄƒ terÈ›Äƒ">â€‹</a></h3><p>SÄƒ presupunem acum cÄƒ Alisa È™i Bob nu au un canal deschis Ã®ntre ei, dar ei, ambii au un canal deschis cu Victor. Alisa poate fÄƒrÄƒ probleme sÄƒ trimitÄƒ bani lui Victor, iar Victor fÄƒrÄƒ probleme poate trimite banii lui Bob.
Dar, cum sÄƒ fim siguri, cÄƒ Victor, obÈ›inÃ¢nd banii, Ã®ntradevÄƒr Ã®i va trimite mai departe lui Bob?</p><p>Ãn realitate, ideea este foarte similarÄƒ cu trucul anterior, doar cÄƒ Ã®n loc de cheile de unicÄƒ folosinÈ›Äƒ se foloseÈ™te un oarecare numÄƒr secret.</p><ol><li>Bob genereazÄƒ un numÄƒr secret S, hash-ul al acestei chei HS È™i transmite aceastÄƒ informaÈ›ie Alisei. HS Ã®n acest caz poate fi folosit ca un bon de platÄƒ virtual.</li><li>Alisa creazÄƒ tranzacÈ›ia AV, care transmite banii lui Victor, numai Ã®n cazul Ã®n care Victor va oferi numÄƒrul secret S. Pentru aceasta, Alisa foloseÈ™te un script, care verificÄƒ egalitatea hash-ului oferit de numÄƒrul È™i valoarea HS(aici se foloseÈ™te operaÈ›ia OP_SHA256 È™i OP_EqualVerify).</li><li>Victor creazÄƒ o tranzacÈ›ie analog VB, care transmite banii lui Bob, doar Ã®n cazul Ã®n care Bob va prezenta numÄƒrul secret.</li><li>Bob vede cÄƒ poate primi bani de la Victor, È™i Ã®i aratÄƒ acestuia numÄƒrul secret S. Acum, Victor poate demonstra cÄƒ acesta a transmis banii lui Bob.</li></ol><p>Aici sunt cÃ¢teva variante Ã®n care scenariile pot avea loc:</p><ol><li>Ãnainte de toate, Victor nu are nici un sens sÄƒ o mintÄƒ pe Alisa. El nu poate sÄƒ nu transmitÄƒ banii lui Bob, deoarece, dealtfel, Victor oricum nu va primi bani de la Alisa.</li><li>ÃnsÄƒ Bob, poate sÄƒ decidÄƒ sÄƒ-l mintÄƒ pe Victor È™i sÄƒ nu-i dea acestuia numÄƒrul secret. Pe lÃ¢ngÄƒ asta, el poate Ã®nchide canalul cu Victor È™i sÄƒ Ã®nscrie Ã®n blockchain tranzacÈ›ia VB. ÃnsÄƒ, pentru primirea banilor, el oricum este nevoit sÄƒ arate  numÄƒrul lui secret, È™i aici - Victor Ã®l va recunoaÈ™te.</li></ol><p>Aici existÄƒ cÃ¢teva nuanÈ›e, legate de timpul Ã®n care Alisa, Bob È™i Victor pot rezolva conflictele. Dar, aceasta este o temÄƒ mult prea tehnicÄƒ. DacÄƒ sunteÈ›i interesaÈ›i - Google it (Time-Locked Contracts or HTLCs).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="42-rutarea">4.2. Rutarea<a href="#42-rutarea" class="hash-link" aria-label="Direct link to 4.2. Rutarea" title="Direct link to 4.2. Rutarea">â€‹</a></h2><p>Ãn practicÄƒ, Alisa È™i Bob pot fi legaÈ›i Ã®ntre ei nu prin cunoscutul lor comun - Victor, ci prin cÃ¢È›iva necunoscuÈ›i intermediari din Ã®ntreaga lume. Problema cÄƒutÄƒrii celui mai scurt drum Ã®n graf, Ã®n reÈ›ea, se numeÈ™te problema rutÄƒrii.</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/1600/1*933GpxVj8PzBVPMQGbDeng.png" class="img_ev3q">
(ÃmpÄƒrÈ›irea geograficÄƒ a nodurilor Ã®n reÈ›eaua de test)
Photo by: <a href="https://explorer.acinq.co/#/" target="_blank" rel="noopener noreferrer">https://explorer.acinq.co/#/</a>)</p><p>Problema rutÄƒrii, Ã®n realitate este o ramurÄƒ Ã®n care se fac cercetÄƒri active Ã®n acest moment. Alegerea drumului optim Ã®n graf depinde de mai mulÈ›i factori dinamici: numÄƒrul de noduri, topologia reÈ›elei, capacitatea canalului de plÄƒÈ›i, comisia nodurilor intermediare.</p><p>Ca sÄƒ nu intrÄƒm Ã®n detalii, cÄƒutarea drumului È™i transmiterea plÄƒÈ›ilor Ã®n LN se realizeazÄƒ pe baza Onion Routing - tehnologia raspÃ¢ndirii informaÈ›iei Ã®n mod anonim, Ã®n reÈ›elele peer-to-peer.  Ãn acest fel, de exemplu, funcÈ›ioneazÄƒ Tor.</p><p>Totul este descentralizat, tot traficul este criptat. Nimeni nu È™tie de la cine È™i cÄƒtre cine, vin È™i se duc banii. De aici, Ã®ncÄƒ un avantaj.</p><p>ğŸ‘ <strong>Avantaj</strong>:
ReÈ›eaua LN este cu mult mai anonimÄƒ, decÃ¢t Ã®nsÄƒÈ™i el - Bitcoin.
Ãn primul rÃ¢nd, persoanele care fac plÄƒÈ›i Ã®ntre ei, sunt vÄƒzute doar de cÃ¢È›iva membri ai reÈ›elei. Ãn al doilea rÃ¢nd, chiar È™i Ã®ntre membrii reÈ›elei, doar primul È™i ultimul È™tie exact, de la cine È™i cÄƒtre cine vin È™i se transmit banii.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-comisioanele">4.3. Comisioanele<a href="#43-comisioanele" class="hash-link" aria-label="Direct link to 4.3. Comisioanele" title="Direct link to 4.3. Comisioanele">â€‹</a></h3><p>RÄƒmÃ¢n douÄƒ Ã®ntrebÄƒri evidente.</p><p><strong>Ãntrebare numÄƒrul 1:</strong> De ce intermediarii trebuie sÄƒ verifice tranzacÈ›ii strÄƒine?
Ãn primul rÃ¢nd deoarece ei Ã®nsuÈ™i vor folosi mai uÈ™or LN. Ãn al doilea rÃ¢nd, deoarece ei vor primi din toatÄƒ asta un comision foarte mic, dar totuÈ™i comision. Ãn acest moment, reÈ›eaua este Ã®ntreÈ›inutÄƒ Ã®n mare parte de entuziaÈ™ti iar comisionul este aproape 0: 1 satoshi, sau 0.01 cent pentru fiecare intermediar.</p><p>ğŸ‘ Capacitatea canalelor - nu este o resursÄƒ mai scumpÄƒ decÃ¢t mÄƒrimea blocului. Deschiderea canelelor se face uÈ™or È™i necostisitor. De aceea comisioanele Ã®n LN sunt cu mult mai mici decÃ¢t comisioanele din Blockchain.</p><p><strong>Ãntrebarea numÄƒrul 2:</strong> Cum e cu comisionul la deschiderea/Ã®nchiderea canalului?</p><p>ÃntradevÄƒr, acest comision poate fi uneori È™i zeci de dolari. Ãn acest fel, plÄƒÈ›ile vor fi mai profitabile dacÄƒ se vor deschide/Ã®nchide canale mai puÈ›ine. Aceasta motiveazÄƒ oamenii sÄƒ deschidÄƒ canale cu depozite mari, È™i sÄƒ foloseascÄƒ canalele Ã®n douÄƒ direcÈ›ii: nu doar pentru plÄƒÈ›ile care pleacÄƒ ci È™i pentru cele care vin. De exemplu: eu deschid un canal, fac o depunere de 1000$, È™i folosesc canalul dat doar pentru plÄƒÈ›ile de ieÈ™ire. Valoarea canalului va fi de 1000 dolari, din care undeva 20 de doloari se vor plÄƒti pentru deschiderea/Ã®nchiderea canalului. AdicÄƒ, comisia totalÄƒ va fi de 2%. Un pic mai bine decÃ¢t cum e la Visa È™i Mastercard, dar evident mai mult decÃ¢t aÈ™ fi dorit. SituaÈ›ia se schimbÄƒ drastic cÃ¢nd eu Ã®ncep sÄƒ folosesc Lightning la maxim: fÄƒcÃ¢nd depozite mai mari È™i primind bani prin intermediul canalelor, ci nu doar cheltuindu-i. Atunci, depinzÃ¢nd de proporÈ›ia intrare/ieÈ™ire a banilor, canalul poate fi deschis la infinit È™i comisioanele vor tinde spre zero.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-critici">4.4. Critici<a href="#44-critici" class="hash-link" aria-label="Direct link to 4.4. Critici" title="Direct link to 4.4. Critici">â€‹</a></h3><p>Pe internet se poate gÄƒsi o mulÈ›ime de critici legate de soluÈ›ia    layer-ului 2 È™i de Lighting Network Ã®n general. Careva puncte Ã®ntradevÄƒr meritÄƒ atenÈ›ie, multe - trebuie deja uitate. CÃ¢teva exemple:</p><ol><li><strong>Folosirea LN va duce la centralizare: utilizatorii vor fi motivaÈ›i sÄƒ se conecteze la hub-uri mari iar aceste hub-uri vor controla tot traficul.</strong></li></ol><p>Un asemenea risc existÄƒ, dar acesta este foarte mic. Ãn primul rÃ¢nd, e foarte economic È™i foarte simplu de realizat un nou nod care va respinge hub-urile mari. Ãn al doilea rÃ¢nd, algoritmii de rutare urmÄƒresc balansarea traficului. Ãn al treilea rÃ¢nd, la acest moment, asemenea problemÄƒ nu existÄƒ.</p><ol start="2"><li><strong>Capacitatea micÄƒ a canaleleor va face ca LN sÄƒ fie suprasolicitÄƒ, comisioanele vor creÈ™te È™i cel mai probabil situaÈ›ia va fi la fel, ca È™i Ã®n Blockchainul de baza.</strong></li></ol><p>ÃncÄƒ o datÄƒ, Ã®ndatÄƒ ce aÈ™a ceva se va Ã®ntÃ¢mpla, persoanele vor fi motivate sÄƒ deschidÄƒ noduri personale. Ãn comparaÈ›ie cu mÄƒrimea blocului, numÄƒrul de noduri, este practic nelimitatÄƒ.</p><ol start="3"><li><strong>O rutare efectivÄƒ la un numÄƒr mare de noduri peer-to-peer este imposibilÄƒ. Mai ales È›inÃ¢nd cont de dificultatea deschiderii a noi canale.</strong></li></ol><p>PÃ¢nÄƒ la o asemenea problemÄƒ este foarte È™i foarte departe iar cercetÄƒrile Ã®n acest domeniu Ã®n mod activ au loc chiar Ã®n acest moment. Cu siguranÈ›Äƒ se vor lua ceva mÄƒsuri.</p><ol start="4"><li><strong>Canele sunt nevoie mereu sÄƒ fie deschise È™i Ã®nchise, comisioanele folosite pentru aÈ™a ceva vor fi mari iar folosirea LN nu se va merita.</strong> </li></ol><p>Defapt, problema datÄƒ este deja din trecut, pe care, nu Ã®nÈ›eleg de ce, Ã®ncÄƒ o discutÄƒ. Ceva timp Ã®n urmÄƒ, versiunile canalelor de platÄƒ Ã®ntradevÄƒr, erau doar Ã®ntr-o singurÄƒ direcÈ›ie, iar canalul putea sÄƒ existe doar o perioadÄƒ scurtÄƒ de timp. Acum aceste probleme sunt rezolvate.</p><ol start="5"><li><strong>Pentru folosirea LN este nevoie sÄƒ fii online.</strong></li></ol><p>Ãn comparaÈ›ie cu versiunile anterioare ale LN, utilizatorul nu este nevoit sÄƒ se afle tot timpul online: alte noduri din reÈ›ea  vor verifica cÄƒ doi deÈ›inÄƒtori ale canalului de platÄƒ nu Ã®ncearcÄƒ sÄƒ se mintÄƒ unul pe altul. Ãn mod cert, trebuie sÄƒ fii online doar pentru trimiterea È™i primirea plÄƒÈ›ilor, care fÄƒrÄƒ nici o Ã®ndoialÄƒ este un neajuns, dar de aceastÄƒ datÄƒ, mult mai neimportant.</p><ol start="6"><li><strong>LN - aceasta nu este sigur.</strong>
PlÄƒÈ›ile LN sunt un pic mai periculoase decÃ¢t plÄƒÈ›ile fÄƒcute direct Ã®n Blockchain. Dar, doar Ã®ntrun singur context: un atac cu succes de 51% asupra Blockchain-ului Bitcoin. Riscul dat este unul catastrofic de mic.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-ln-astÄƒzi">5. LN astÄƒzi<a href="#5-ln-astÄƒzi" class="hash-link" aria-label="Direct link to 5. LN astÄƒzi" title="Direct link to 5. LN astÄƒzi">â€‹</a></h2><p>Lucrul cel mai important pe care trebuie sÄƒ-l cunoaÈ™teÈ›i:
<strong>Lighthing</strong> deja se foloseÈ™te È™i funcÈ›ioneazÄƒ Ã®n realiate.</p><p>Mai mult de o mie de noduri Ã®n reÈ›eaua de testare bitcoin È™i mai mult de 200 de noduri(numÄƒrul creÈ™te Ã®n fiecare zi) Ã®n reÈ›eaua de bazÄƒ bitcoin(mainnet) deja verificÄƒ plÄƒÈ›i.</p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Anyone want to help bug test new <a href="https://twitter.com/Blockstream?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@Blockstream</a> <a href="https://twitter.com/hashtag/LightningNetwork?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#LightningNetwork</a> store? The Github repos should make it easy enough for even <a href="https://twitter.com/coinbase?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@coinbase</a> &amp; <a href="https://twitter.com/BitPay?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@BitPay</a> to integrate with the second layer. Cypherpunks do not whine they write code. Right <a href="https://twitter.com/adam3us?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">@adam3us</a>? <a href="https://twitter.com/hashtag/MYOTHERNODEISASATELLITE?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#MYOTHERNODEISASATELLITE</a> <a href="https://twitter.com/hashtag/DONTTRUSTVERIFY?src=hash&amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">#DONTTRUSTVERIFY</a> <a href="https://t.co/Il3YBvirYo" target="_blank" rel="noopener noreferrer">pic.twitter.com/Il3YBvirYo</a></p>â€” Trace Mayer (@TraceMayer) <a href="https://twitter.com/TraceMayer/status/953430172019101696?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">January 17, 2018</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>Ce È›ine de softuri - existÄƒ trei implementÄƒri de bazÄƒ, lnt de la Lightning Labs, c-lightning de la Blockstream, eclair de la ACINQ.</p><p>Aceste echipe, nu doar de un an lucreazÄƒ Ã®mpreunÄƒ, pentru a dezvolta un standard comun de interacÈ›iune a nodurilor: Lighthing Network Specifications(BOLTs). È˜i uite cÄƒ chiar la sfÃ¢rÈ™itul anului 2017, au testat protocolul de plÄƒÈ›i, Ã®mpreunÄƒ, È™i toate cele trei implementÄƒri au fost cu succes. </p><p>SÄƒ achiÈ›i cu bitcoini reali folosind LN, se poate doar la cÃ¢teva magazine online. Dar, asta e doar cu cÃ¢teva magazine mai multe decÃ¢t acum o lunÄƒ, iar acesta deja este succes. </p><p>Desigur, momentul general de transfer de la on-chain bitcoin la plÄƒÈ›i off-chain este Ã®ncÄƒ foarte departe. O muncÄƒ imensÄƒ urmeazÄƒ sÄƒ o facÄƒ dezvoltatorii de portofele virtuale, nodurile de platÄƒ, bursele, magazinele-online, È™i, nu Ã®n ultimul rÃ¢nd - utilizatorii. Cel mai interesant Ã®n aceastÄƒ istorie este cÄƒ tranzacÈ›ii mult mai rapide, anonime È™i gratis - sunt doar Ã®nceputul! UrmeazÄƒ o mai multÄƒ anonimitate, swap-uri atomice, schimburi distribuite È™i mult, mult mai mult.</p><p>Viitorul aratÄƒ interesant!</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ğŸš€ Macbook Upgrade. First Impressions]]></title>
            <link>https://hackmajoris.github.io/2018/01/11/macbook-upgrade-first-impresions</link>
            <guid>https://hackmajoris.github.io/2018/01/11/macbook-upgrade-first-impresions</guid>
            <pubDate>Thu, 11 Jan 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[First of all, I will tell you how I started using the Apple ecosystem.]]></description>
            <content:encoded><![CDATA[<p>First of all, I will tell you how I started using the Apple ecosystem.</p><p>Back in 2013, when I was in my second year at the university, I got involved in an iOS internship. It was the first time I had ever used a macOS system, which was running on a Mac mini computer. I enjoyed using the system, and a few days after the internship started, I installed a Hackintosh version of Mavericks on my Asus notebook in order to use it at home and practice iOS development. The Hackintosh system ran pretty well, but the only problem I had was with the WiFi adapter, which was not supported, and I had to use a LAN cable every time. However, I was happy that I could learn iOS development without paying for an expensive Mac computer.</p><p>After the internship, I continued to use the Hackintosh system to work on some projects at the university. As a result, my experience and motivation to buy an Apple computer grew.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="my-old-macbook">My old MacBook<a href="#my-old-macbook" class="hash-link" aria-label="Direct link to My old MacBook" title="Direct link to My old MacBook">â€‹</a></h2><hr><p>About 3 years later, in December 2016, I bought my first Apple computer. It was a MacBook Pro from 2015 with a 13-inch display, i7 3.1 GHz CPU, 16 GB of RAM, and 256 GB of SSD space. To be honest, it was my second computer, which I bought just a few days later than the first one. You can read why I made this decision on <a href="https://www.quora.com/Should-a-computer-science-student-get-a-13-or-15-inch-MacBook-Pro/answer/Alexandru-Ilie%C8%99?srid=SKYq" target="_blank" rel="noopener noreferrer">Quora</a>.</p><p>This MacBook Pro was and still is a powerful computer, and it helped me to be more organized, efficient, and even happier in what I do.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="my-new-macbook">My new MacBook<a href="#my-new-macbook" class="hash-link" aria-label="Direct link to My new MacBook" title="Direct link to My new MacBook">â€‹</a></h2><hr><p>I didn't have any essential reasons to upgrade my computer. It wasn't a burning desire, but then I created and advertised it on a local selling site two weeks ago. After that, someone wanted to buy it, and I wasn't prepared to part with it. I thought about keeping my old computer, but then I found an interesting advertisement. It wasn't a selling one, but a "changing" advertisement. The person who owned a MacBook Pro 2016 with touch bar, 13" display, 16 Gb of RAM, i7 3.3, and 512 Gb of SSD space wished to change it with the same configuration of MacBook Pro with a 15" display. I contacted him, and after a negotiation, he agreed to sell the computer to me. To be honest, it wasn't the best deal, and for a few hundred dollars more, I could have bought a more powerful MacBook Pro with a quad-core processor and a discrete GPU, but that's not what I wanted. The 13" display fit perfectly with my requirements. Even though the performance is lower than its 15" brother, it's still sufficient for my needs since I don't do any rendering or video gaming.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-makes-the-difference">What makes the difference<a href="#what-makes-the-difference" class="hash-link" aria-label="Direct link to What makes the difference" title="Direct link to What makes the difference">â€‹</a></h2><hr><p>I've seen many opinions regarding the new MacBook Pro computers. Some people are saying that the upgrade is not worth it if you already own a 2015 model. Others are saying that it is worth it, but there are some things they hate, like the touch bar, keyboard, performance (because of 32 GB of RAM), and so on. Here are my two cents on the differences I'm experiencing right now.</p><p>I've owned the described new computer for 4 days, and I did not expect to experience so many changes, but I am.</p><p>So, here are the things I love:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-performance">The performance<a href="#the-performance" class="hash-link" aria-label="Direct link to The performance" title="Direct link to The performance">â€‹</a></h3><p>The performance is really great. I should do some more PC experiments, but I saw the improvements when I built/rebuilt iOS applications. It takes considerably less time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-keyboard">The keyboard<a href="#the-keyboard" class="hash-link" aria-label="Direct link to The keyboard" title="Direct link to The keyboard">â€‹</a></h3><p>I really love the new keyboard. It is so lovely to touch it and to write. I am more accurate doing this( using <a href="http://www.typingstudy.com/lesson/1/part/1" target="_blank" rel="noopener noreferrer">QWERTY</a> writing style, without looking at the keyboard)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-cooling-system">The cooling system<a href="#the-cooling-system" class="hash-link" aria-label="Direct link to The cooling system" title="Direct link to The cooling system">â€‹</a></h3><p>With a new version of the processor and two cooling fans, plus some other improvements - the experience is awesome. While building iOS apps or other way stressing CPU tasks, the old computer's fan had up to 7000 rpm/minute. On a low-performance tasks, it was at 1500/2000 rpm/minute. </p><p>On the new computer, the maximum rotation rate I registered was 2000 rpm/minute and you can't even hear them. The most interesting part, at low-performance tasks, it shows 0 rpm/minutes.</p><p><img loading="lazy" src="https://www.dropbox.com/s/fgb567y720jijft/Screen%20Shot%202018-01-14%20at%2014.53.11.png?raw=1" class="img_ev3q"></p><p>I really enjoy this improvement. I may say I have some allergy on fan sound because I hate it so much( I had some experience in the past with some desktop computer, but this is another story).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-battery">The battery<a href="#the-battery" class="hash-link" aria-label="Direct link to The battery" title="Direct link to The battery">â€‹</a></h3><p>Because of the cooling system, I think(of course and other stuff) the battery lasts for about - 7 hours. It is really enough for an entire workday.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="touch-bar">Touch bar<a href="#touch-bar" class="hash-link" aria-label="Direct link to Touch bar" title="Direct link to Touch bar">â€‹</a></h3><p>Here is really simple. I do not hate or love it. On the other hand, I find the Touch ID very useful. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">â€‹</a></h2><hr><p>I think, generally, the upgrade is worth it. Especially for me, when thinking again about the cooling system.</p>]]></content:encoded>
        </item>
    </channel>
</rss>